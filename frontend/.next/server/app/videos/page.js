(()=>{var e={};e.id=55,e.ids=[55],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(6612),r(7147),r(996);var s=r(170),a=r(5002),o=r(3876),l=r.n(o),n=r(6299),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let c=["",{children:["videos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6612)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\videos\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7147)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\videos\\page.js"],u="/videos/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/videos/page",pathname:"/videos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7017:(e,t,r)=>{Promise.resolve().then(r.bind(r,1163))},5853:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var s=r(7247),a=r(8964),o=r(8826),l=r(1914),n=r(6460),i=r(7989),c=r(6034),d=r(7073);let u=(0,r(6323).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var h=r(1299),p=r(4294),m=r(9840),f=r(4178),x=r(4571);let w=()=>{let{isSidebarOpen:e,toggleSidebar:t}=(0,m.Z)(),r=(0,f.useRouter)(),w=(0,a.useRef)(null),{user:g}=(0,x.Z)(),v=(s,a)=>{r.push(s),e&&t()},y=r=>{e&&w.current&&!w.current.contains(r.target)&&t()};(0,a.useEffect)(()=>(e?document.addEventListener("click",y):document.removeEventListener("click",y),()=>{document.removeEventListener("click",y)}),[e]);let j=g?.username?g.username.split(" ").map(e=>e.charAt(0).toUpperCase()).join(""):"U";return s.jsx("aside",{ref:w,className:`fixed top-10  left-0 h-full w-64 p-4 transform transition-transform duration-200 ease-in-out md:translate-x-0 flex flex-col z-50 md:z-0 ${e?"translate-x-0 bg-white dark:bg-[rgb(37,38,39)] shadow-lg":"-translate-x-full"}  ${e?"md:hidden ":"md:block"} md:bg-transparent md:shadow-none `,children:(0,s.jsxs)("div",{className:"flex flex-col h-full overflow-y-auto",children:[(0,s.jsxs)("nav",{className:"space-y-3 flex-grow",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>v("/"),children:[s.jsx(o.qE,{className:"h-8 w-8",children:g?.profilePicture?s.jsx(o.F$,{src:g?.profilePicture,alt:g?.username}):s.jsx(o.Q5,{className:"dark:bg-gray-400",children:j})}),s.jsx("span",{className:"font-semibold",children:g?.username})]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start   ",onClick:()=>v("/"),children:[s.jsx(n.Z,{className:"mr-4"}),"Home"]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>v("/friends-list"),children:[s.jsx(i.Z,{className:"mr-4"}),"Friends"]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>v("/videos"),children:[s.jsx(c.Z,{className:"mr-4"}),"Video"]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start",children:[s.jsx(d.Z,{className:"mr-4"}),"Messages"]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>v(`/user-profile/${g?._id}`),children:[s.jsx(u,{className:"mr-4"}),"Profile"]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"full justify-start",children:[s.jsx(h.Z,{className:"mr-4"}),"Notification"]})]}),(0,s.jsxs)("div",{className:"mb-16",children:[s.jsx(p.Z,{className:"my-4"}),s.jsx("div",{className:"flex items-center space-x-2 mb-4 cursor-pointer",children:s.jsx(o.qE,{className:"h-8 w-8",onClick:()=>v(`/user-profile/${g?._id}`),children:g?.profilePicture?s.jsx(o.F$,{src:g?.profilePicture,alt:g?.username}):s.jsx(o.Q5,{className:"dark:bg-gray-400",children:j})})}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:"Privacy \xb7 Terms \xb7 Advertising "}),s.jsx("p",{children:"Cookies \xb7 Meta \xa9 2024"})]})]})]})})}},1163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ex});var s=r(7247),a=r(8964),o=r(5853),l=r(1914),n=r(6323);let i=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var c=r(8277),d=r(7078),u=r(8826);let h=(0,n.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var p=r(5718),m=r(7073),f=r(9875),x=r(1669),w=r(2355),g=r(5294);let v=({comments:e})=>s.jsx(s.Fragment,{children:e?.map(e=>s.jsxs("div",{className:"flex items-start space-x-2 mb-4",children:[s.jsx(u.qE,{className:"h-8 w-8 ",children:e?.user?.profilePicture?s.jsx(u.F$,{src:e?.user?.profilePicture,alt:e?.user?.username}):s.jsx(u.Q5,{className:"dark:bg-gray-400",children:e?.user?.username?.split(" ").map(e=>e[0]).join(" ")})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2",children:[s.jsx("p",{className:"font-semibold text-sm",children:e?.user?.username}),s.jsx("p",{className:"text-sm",children:e?.text})]}),s.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-400",children:[s.jsx(l.z,{variant:"ghost",size:"sm",children:"Like"}),s.jsx(l.z,{variant:"ghost",size:"sm",children:"Reply"}),s.jsx("span",{children:g.F(e.createdAt)})]})]})]},e?._id))});var y=r(2251),j=r(7264),b=r(732),N=r(3191),k=r(5090),P=r(1310),S=r(9537),C=r(8779),E=r(319),R="ScrollArea",[z,_]=(0,b.b)(R),[T,L]=z(R),D=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:o="hover",dir:l,scrollHideDelay:n=600,...i}=e,[c,d]=a.useState(null),[u,h]=a.useState(null),[p,m]=a.useState(null),[f,x]=a.useState(null),[w,g]=a.useState(null),[v,j]=a.useState(0),[b,k]=a.useState(0),[S,C]=a.useState(!1),[E,R]=a.useState(!1),z=(0,N.e)(t,e=>d(e)),_=(0,P.gm)(l);return(0,s.jsx)(T,{scope:r,type:o,dir:_,scrollHideDelay:n,scrollArea:c,viewport:u,onViewportChange:h,content:p,onContentChange:m,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:w,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:j,onCornerHeightChange:k,children:(0,s.jsx)(y.WV.div,{dir:_,...i,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});D.displayName=R;var Z="ScrollAreaViewport",A=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:o,asChild:l,nonce:n,...i}=e,c=L(Z,r),d=a.useRef(null),u=(0,N.e)(t,d,c.onViewportChange);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:n}),(0,s.jsx)(y.WV.div,{"data-radix-scroll-area-viewport":"",...i,asChild:l,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:function(e,t){let{asChild:r,children:s}=e;if(!r)return"function"==typeof t?t(s):t;let o=a.Children.only(s);return a.cloneElement(o,{children:"function"==typeof t?t(o.props.children):t})}({asChild:l,children:o},e=>(0,s.jsx)("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:e}))})]})});A.displayName=Z;var q="ScrollAreaScrollbar",W=a.forwardRef((e,t)=>{let{forceMount:r,...o}=e,l=L(q,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:i}=l,c="horizontal"===e.orientation;return a.useEffect(()=>(c?n(!0):i(!0),()=>{c?n(!1):i(!1)}),[c,n,i]),"hover"===l.type?(0,s.jsx)(M,{...o,ref:t,forceMount:r}):"scroll"===l.type?(0,s.jsx)($,{...o,ref:t,forceMount:r}):"auto"===l.type?(0,s.jsx)(U,{...o,ref:t,forceMount:r}):"always"===l.type?(0,s.jsx)(O,{...o,ref:t}):null});W.displayName=q;var M=a.forwardRef((e,t)=>{let{forceMount:r,...o}=e,l=L(q,e.__scopeScrollArea),[n,i]=a.useState(!1);return a.useEffect(()=>{let e=l.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),i(!0)},s=()=>{t=window.setTimeout(()=>i(!1),l.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[l.scrollArea,l.scrollHideDelay]),(0,s.jsx)(j.z,{present:r||n,children:(0,s.jsx)(U,{"data-state":n?"visible":"hidden",...o,ref:t})})}),$=a.forwardRef((e,t)=>{var r,o;let{forceMount:l,...n}=e,i=L(q,e.__scopeScrollArea),c="horizontal"===e.orientation,d=el(()=>h("SCROLL_END"),100),[u,h]=(r="hidden",o={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},a.useReducer((e,t)=>o[e][t]??e,r));return a.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,h]),a.useEffect(()=>{let e=i.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],s=()=>{let s=e[t];r!==s&&(h("SCROLL"),d()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[i.viewport,c,h,d]),(0,s.jsx)(j.z,{present:l||"hidden"!==u,children:(0,s.jsx)(O,{"data-state":"hidden"===u?"hidden":"visible",...n,ref:t,onPointerEnter:(0,E.M)(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:(0,E.M)(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),U=a.forwardRef((e,t)=>{let r=L(q,e.__scopeScrollArea),{forceMount:o,...l}=e,[n,i]=a.useState(!1),c="horizontal"===e.orientation,d=el(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?e:t)}},10);return en(r.viewport,d),en(r.content,d),(0,s.jsx)(j.z,{present:o||n,children:(0,s.jsx)(O,{"data-state":n?"visible":"hidden",...l,ref:t})})}),O=a.forwardRef((e,t)=>{let{orientation:r="vertical",...o}=e,l=L(q,e.__scopeScrollArea),n=a.useRef(null),i=a.useRef(0),[c,d]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=et(c.viewport,c.content),h={...o,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function p(e,t){return function(e,t,r,s="ltr"){let a=er(r),o=t||a/2,l=r.scrollbar.paddingStart+o,n=r.scrollbar.size-r.scrollbar.paddingEnd-(a-o),i=r.content-r.viewport;return ea([l,n],"ltr"===s?[0,i]:[-1*i,0])(e)}(e,i.current,c,t)}return"horizontal"===r?(0,s.jsx)(H,{...h,ref:t,onThumbPositionChange:()=>{if(l.viewport&&n.current){let e=es(l.viewport.scrollLeft,c,l.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{l.viewport&&(l.viewport.scrollLeft=e)},onDragScroll:e=>{l.viewport&&(l.viewport.scrollLeft=p(e,l.dir))}}):"vertical"===r?(0,s.jsx)(F,{...h,ref:t,onThumbPositionChange:()=>{if(l.viewport&&n.current){let e=es(l.viewport.scrollTop,c);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{l.viewport&&(l.viewport.scrollTop=e)},onDragScroll:e=>{l.viewport&&(l.viewport.scrollTop=p(e))}}):null}),H=a.forwardRef((e,t)=>{let{sizes:r,onSizesChange:o,...l}=e,n=L(q,e.__scopeScrollArea),[i,c]=a.useState(),d=a.useRef(null),u=(0,N.e)(t,d,n.onScrollbarXChange);return a.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,s.jsx)(I,{"data-orientation":"horizontal",...l,ref:u,sizes:r,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":er(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){let s=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(s),function(e,t){return e>0&&e<t}(s,r)&&t.preventDefault()}},onResize:()=>{d.current&&n.viewport&&i&&o({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ee(i.paddingLeft),paddingEnd:ee(i.paddingRight)}})}})}),F=a.forwardRef((e,t)=>{let{sizes:r,onSizesChange:o,...l}=e,n=L(q,e.__scopeScrollArea),[i,c]=a.useState(),d=a.useRef(null),u=(0,N.e)(t,d,n.onScrollbarYChange);return a.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,s.jsx)(I,{"data-orientation":"vertical",...l,ref:u,sizes:r,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":er(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){let s=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(s),function(e,t){return e>0&&e<t}(s,r)&&t.preventDefault()}},onResize:()=>{d.current&&n.viewport&&i&&o({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ee(i.paddingTop),paddingEnd:ee(i.paddingBottom)}})}})}),[V,Y]=z(q),I=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:o,hasThumb:l,onThumbChange:n,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:p,...m}=e,f=L(q,r),[x,w]=a.useState(null),g=(0,N.e)(t,e=>w(e)),v=a.useRef(null),j=a.useRef(""),b=f.viewport,P=o.content-o.viewport,S=(0,k.W)(h),C=(0,k.W)(d),R=el(p,10);function z(e){v.current&&u({x:e.clientX-v.current.left,y:e.clientY-v.current.top})}return a.useEffect(()=>{let e=e=>{let t=e.target;x?.contains(t)&&S(e,P)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[b,x,P,S]),a.useEffect(C,[o,C]),en(x,R),en(f.content,R),(0,s.jsx)(V,{scope:r,scrollbar:x,hasThumb:l,onThumbChange:(0,k.W)(n),onThumbPointerUp:(0,k.W)(i),onThumbPositionChange:C,onThumbPointerDown:(0,k.W)(c),children:(0,s.jsx)(y.WV.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:(0,E.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),v.current=x.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),z(e))}),onPointerMove:(0,E.M)(e.onPointerMove,z),onPointerUp:(0,E.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=j.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),X="ScrollAreaThumb",B=a.forwardRef((e,t)=>{let{forceMount:r,...a}=e,o=Y(X,e.__scopeScrollArea);return(0,s.jsx)(j.z,{present:r||o.hasThumb,children:(0,s.jsx)(G,{ref:t,...a})})}),G=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:o,...l}=e,n=L(X,r),i=Y(X,r),{onThumbPositionChange:c}=i,d=(0,N.e)(t,e=>i.onThumbChange(e)),u=a.useRef(),h=el(()=>{u.current&&(u.current(),u.current=void 0)},100);return a.useEffect(()=>{let e=n.viewport;if(e){let t=()=>{if(h(),!u.current){let t=eo(e,c);u.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,h,c]),(0,s.jsx)(y.WV.div,{"data-state":i.hasThumb?"visible":"hidden",...l,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,E.M)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;i.onThumbPointerDown({x:r,y:s})}),onPointerUp:(0,E.M)(e.onPointerUp,i.onThumbPointerUp)})});B.displayName=X;var Q="ScrollAreaCorner",J=a.forwardRef((e,t)=>{let r=L(Q,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&a?(0,s.jsx)(K,{...e,ref:t}):null});J.displayName=Q;var K=a.forwardRef((e,t)=>{let{__scopeScrollArea:r,...o}=e,l=L(Q,r),[n,i]=a.useState(0),[c,d]=a.useState(0),u=!!(n&&c);return en(l.scrollbarX,()=>{let e=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(e),d(e)}),en(l.scrollbarY,()=>{let e=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(e),i(e)}),u?(0,s.jsx)(y.WV.div,{...o,ref:t,style:{width:n,height:c,position:"absolute",right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:0,...e.style}}):null});function ee(e){return e?parseInt(e,10):0}function et(e,t){let r=e/t;return isNaN(r)?0:r}function er(e){let t=et(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function es(e,t,r="ltr"){let s=er(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,l=t.content-t.viewport,n=(0,C.u)(e,"ltr"===r?[0,l]:[-1*l,0]);return ea([0,l],[0,o-s])(n)}function ea(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var eo=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){let o={left:e.scrollLeft,top:e.scrollTop},l=r.left!==o.left,n=r.top!==o.top;(l||n)&&t(),r=o,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function el(e,t){let r=(0,k.W)(e),s=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(s.current),[]),a.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function en(e,t){let r=(0,k.W)(t);(0,S.b)(()=>{let t=0;if(e){let s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}let ei=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(D,{ref:a,className:(0,g.cn)("relative overflow-hidden",e),...r,children:[s.jsx(A,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(ec,{}),s.jsx(J,{})]}));ei.displayName=D.displayName;let ec=a.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(W,{ref:a,orientation:t,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(B,{className:"relative flex-1 rounded-full bg-border"})}));ec.displayName=W.displayName;var ed=r(2898),eu=r(4571);let eh=({post:e,isLiked:t,onShare:r,onComment:o,onLike:n})=>{let[i,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),{user:b}=(0,eu.Z)(),[N,k]=(0,a.useState)(""),P=(0,a.useRef)(null),S=b?.username?.split(" ").map(e=>e[0]).join(""),C=async()=>{N.trim()&&(o({text:N}),k(""))},E=()=>`http://localhost:3000/${e?.id}`,R=e=>{let t;let r=E();switch(e){case"facebook":t="https://www.facebook.com/sharer/sharer.php?u=}";break;case"twitter":t="https://twitter.com/intent/tweet?url=}";break;case"linkedin":t="https://www.linkedin.com/shareArticle?mini=true&url=}";break;case"copy":navigator.clipboard.writeText(r),g(!1);return;default:return}window.open(t,"_blank"),g(!1)};return s.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-[rgb(36,37,38)] rounded-lg shadow-lg overflow-hidden mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4 px-4 mt-2 ",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(u.qE,{className:"h-10 w-10 rounded-full mr-3",children:e?.user?.profilePicture?s.jsx(u.F$,{src:e?.user?.profilePicture,alt:e?.user?.username}):s.jsx(u.Q5,{className:"dark:bg-gray-400",children:S})}),s.jsx("div",{children:s.jsx("p",{className:"font-semibold dark:text-white",children:e?.user?.username})})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[s.jsx(h,{className:"h-2 w-2 mr-1"}),s.jsx("span",{className:"text-sm",children:e?.createdAt?(e=>{let t=Math.floor((new Date-new Date(e))/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)} m ago`:t<86400?`${Math.floor(t/3600)} h ago`:`${Math.floor(t/86400)} d ago`})(e.createdAt):"Unknown date"})]})]}),s.jsx("div",{className:"ralative aspect-video bg-black mb-4",children:e?.mediaUrl&&(0,s.jsxs)("video",{controls:!0,className:"w-full h-[500px] rounded-lg mb-4",children:[s.jsx("source",{src:e?.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag"]})}),(0,s.jsxs)("div",{className:"md:flex justify-between px-2 mb-2 items-center",children:[(0,s.jsxs)("div",{className:"flex sm:space-x-4",children:[(0,s.jsxs)(l.z,{variant:"ghost",className:`flex dark:hover:bg-gray-600 items-center  ${t?"text-blue-600":""}`,onClick:n,children:[s.jsx(p.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Like"})]}),(0,s.jsxs)(l.z,{variant:"ghost",className:"flex items-center dark:hover:bg-gray-600 ",onClick:()=>{j(!0),setTimeout(()=>{P?.current?.focus()},0)},children:[s.jsx(m.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Comment"})]}),(0,s.jsxs)(w.Vq,{open:i,onOpenChange:g,children:[s.jsx(w.hg,{asChild:!0,children:(0,s.jsxs)(l.z,{variant:"ghost",className:"flex items-center dark:hover:bg-gray-500",onClick:r,children:[s.jsx(f.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"share"})]})}),(0,s.jsxs)(w.cZ,{children:[(0,s.jsxs)(w.fK,{children:[s.jsx(w.$N,{children:"Share This Post"}),s.jsx(w.Be,{children:"Choose how you want to share this post"})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4 ",children:[s.jsx(l.z,{onClick:()=>R("facebook"),children:"Share on Facebook"}),s.jsx(l.z,{onClick:()=>R("twitter"),children:"Share on Twitter"}),s.jsx(l.z,{onClick:()=>R("linkedin"),children:"Share on Linkedin"}),s.jsx(l.z,{onClick:()=>R("copy"),children:"Copy Link"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4 ml-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",children:[e?.likeCount," likes"]}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>j(!y),children:[e?.commentCount," Comments"]}),(0,s.jsxs)(l.z,{variant:"ghost",size:"sm",children:[e?.shareCount," share"]})]})]}),s.jsx(d.M,{children:y&&(0,s.jsxs)(c.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[s.jsx(ei,{className:"h-[300px] w-full rounded-md border p-4",children:s.jsx(v,{comments:e?.comments},e?.comments?._id)}),(0,s.jsxs)("div",{className:"flex items-center mt-4 p-2",children:[s.jsx(u.qE,{className:"h-10 w-10 rounded mr-3",children:b?.profilePicture?s.jsx(u.F$,{src:b?.profilePicture,alt:b?.username}):s.jsx(u.Q5,{className:"dark:bg-gray-400",children:S})}),s.jsx(ed.I,{className:"flex-1 mr-2 dark:border-gray-400",placeholder:"Write a comment...",value:N,ref:P,onChange:e=>k(e.target.value),onKeyDown:e=>"Enter"===e.key&&C()}),s.jsx(l.z,{onClick:C,children:s.jsx(x.Z,{className:"h-4 w-4"})})]})]})})]})},e?._id)};var ep=r(6481),em=r(4178),ef=r(2411);let ex=()=>{let[e,t]=(0,a.useState)(new Set),{posts:r,fetchPost:n,handleLikePost:c,handleCommentPost:d,handleSharePost:u}=(0,ep.Y)(),h=(0,em.useRouter)();(0,a.useEffect)(()=>{n()},[n]),(0,a.useEffect)(()=>{let e=localStorage.getItem("likePosts");e&&t(new Set(JSON.parse(e)))},[]);let p=async r=>{let s=new Set(e);s.has(r)?(s.delete(r),ef.ZP.error("post disliked successfully")):(s.add(r),ef.ZP.success("post like successfully")),t(s),localStorage.setItem("likePosts",JSON.stringify(Array.from(s)));try{await c(r),await n()}catch(e){console.error(e),ef.ZP.error("failed to like or unlike the post")}},m=r?.filter(e=>"video"===e.mediaType);return(0,s.jsxs)("div",{className:"mt-12 min-h-screen",children:[s.jsx(o.Z,{}),(0,s.jsxs)("main",{className:"ml-0 md:ml-64 sm:p-6",children:[(0,s.jsxs)(l.z,{variant:"ghost",className:"mb-4",onClick:()=>{h.push("/")},children:[s.jsx(i,{className:"mr-2 h-4 w-4"}),"Back to feed"]}),s.jsx("div",{className:"max-w-3xl mx-auto",children:m.map(t=>s.jsx(eh,{post:t,isLiked:e.has(t?._id),onLike:()=>p(t?._id),onComment:async e=>{await d(t?._id,e.text),await n()},onShare:async()=>{await u(t?._id),await n()}},t?._id))})]})]})}},2355:(e,t,r)=>{"use strict";r.d(t,{$N:()=>f,Be:()=>x,Vq:()=>i,cN:()=>m,cZ:()=>h,fK:()=>p,hg:()=>c});var s=r(7247),a=r(8964),o=r(400),l=r(2095),n=r(5294);let i=o.fC,c=o.xz,d=o.h_;o.x8;let u=a.forwardRef(({className:e,...t},r)=>s.jsx(o.aV,{ref:r,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=o.aV.displayName;let h=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(d,{children:[s.jsx(u,{}),(0,s.jsxs)(o.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(l.Pxu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h.displayName=o.VY.displayName;let p=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let m=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let f=a.forwardRef(({className:e,...t},r)=>s.jsx(o.Dx,{ref:r,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=o.Dx.displayName;let x=a.forwardRef(({className:e,...t},r)=>s.jsx(o.dk,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=o.dk.displayName},4294:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(7247),a=r(8964),o=r(4823),l=r(5294);let n=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>s.jsx(o.f,{ref:n,decorative:r,orientation:t,className:(0,l.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));n.displayName=o.f.displayName},6481:(e,t,r)=>{"use strict";r.d(t,{Y:()=>m});var s=r(2641);let a=async e=>{try{let t=await s.Z.post("/api/users/posts",e);return t?.data?.data}catch(e){throw console.error(e),e}},o=async e=>{try{let t=await s.Z.delete(`/api/users/posts/${e}`);return t?.data?.data}catch(e){throw console.error(e),e}},l=async e=>{try{let t=await s.Z.post("/api/users/story",e);return t?.data?.data}catch(e){throw console.error(e),e}},n=async()=>{try{let e=await s.Z.get("/api/users/posts");return e?.data?.data}catch(e){throw console.error(e),e}},i=async()=>{try{let e=await s.Z.get("/api/users/story");return e?.data?.data}catch(e){throw console.error(e),e}},c=async e=>{try{let t=await s.Z.post(`/api/users/posts/likes/${e}`);return t?.data?.data}catch(e){throw console.error(e),e}},d=async(e,t)=>{try{let r=await s.Z.post(`/api/users/posts/comments/${e}`,t);return r?.data?.data}catch(e){throw console.error(e),e}},u=async e=>{try{let t=await s.Z.post(`/api/users/posts/share/${e}`);return t?.data?.data}catch(e){throw console.error(e),e}},h=async e=>{try{let t=await s.Z.get(`/api/users/posts/user/${e}`);return t?.data?.data}catch(e){throw console.error(e),e}};var p=r(2411);let m=(0,r(9713).U)(e=>({posts:[],userPosts:[],story:[],loading:!1,error:null,fetchPost:async()=>{e({loading:!0});try{let t=await n();e({posts:t,loading:!1})}catch(t){e({error:t,loading:!1})}},fetchUserPost:async t=>{e({loading:!0});try{let r=await h(t);e({userPosts:r,loading:!1})}catch(t){e({error:t,loading:!1})}},fetchStoryPost:async()=>{e({loading:!0});try{let t=await i();e({story:t,loading:!1})}catch(t){e({error:t,loading:!1})}},handleCreatePost:async t=>{e({loading:!0});try{let r=await a(t);e(e=>({posts:[r,...e.posts],loading:!1})),p.ZP.success("Post created successfully")}catch(t){e({error:t,loading:!1}),p.ZP.error("failed to create a post")}},handleDeletePost:async t=>{e({loading:!0});try{await o(t),e(e=>({posts:e.posts.filter(e=>e._id!==t),loading:!1})),p.ZP.success("Post deleted successfully")}catch(t){e({error:t,loading:!1}),p.ZP.error("Failed to delete the post")}},handleCreateStory:async t=>{e({loading:!0});try{let r=await l(t);e(e=>({story:[r,...e.story],loading:!1})),p.ZP.success("Story created successfully")}catch(t){e({error:t,loading:!1}),p.ZP.error("failed to create a story")}},handleLikePost:async t=>{e({loading:!0});try{await c(t)}catch(t){e({error:t,loading:!1})}},handleCommentPost:async(t,r)=>{e({loading:!0});try{let s=await d(t,{text:r});e(e=>({posts:e.posts.map(e=>e?._id===t?{...e,comments:[...e.comments,s]}:e)})),p.ZP.success("Comments added successfully")}catch(t){e({error:t,loading:!1}),p.ZP.error("failed to add comments")}},handleSharePost:async t=>{e({loading:!0});try{await u(t),p.ZP.success("post share successfully")}catch(t){e({error:t,loading:!1}),p.ZP.error("failed to share this post")}}}))},6612:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(5347).createProxy)(String.raw`C:\Users\softw\OneDrive\Desktop\facebook-clone\frontend\src\app\videos\page.js#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4564);let a=e=>[{type:"image/x-icon",sizes:"336x336",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},8779:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{u:()=>s})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,71,564,150,694],()=>r(7858));module.exports=s})();