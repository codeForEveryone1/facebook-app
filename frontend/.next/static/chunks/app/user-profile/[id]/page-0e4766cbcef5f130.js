(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{8876:function(e,s,a){Promise.resolve().then(a.bind(a,8727))},8727:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return er}});var t=a(7437),l=a(2265),i=a(4522),r=a(4449),n=a(8614),o=a(3581),d=a(2207),c=a(2489),u=a(7689),m=a(3229),h=a(4847),x=a(3032),f=a(322),p=a(653),v=a(8856),j=a(6474);let g=v.fC;v.ZA;let y=v.B4,N=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(v.xz,{ref:s,className:(0,j.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[l,(0,t.jsx)(v.JO,{asChild:!0,children:(0,t.jsx)(p.jnn,{className:"h-4 w-4 opacity-50"})})]})});N.displayName=v.xz.displayName;let w=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.u_,{ref:s,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(p.g8U,{})})});w.displayName=v.u_.displayName;let b=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.$G,{ref:s,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(p.v4q,{})})});b.displayName=v.$G.displayName;let k=l.forwardRef((e,s)=>{let{className:a,children:l,position:i="popper",...r}=e;return(0,t.jsx)(v.h_,{children:(0,t.jsxs)(v.VY,{ref:s,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...r,children:[(0,t.jsx)(w,{}),(0,t.jsx)(v.l_,{className:(0,j.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(b,{})]})})});k.displayName=v.VY.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.__,{ref:s,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",a),...l})}).displayName=v.__.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(v.ck,{ref:s,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(v.wU,{children:(0,t.jsx)(p.nQG,{className:"h-4 w-4"})})}),(0,t.jsx)(v.eT,{children:l})]})});Z.displayName=v.ck.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.Z0,{ref:s,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=v.Z0.displayName;var C=a(7061),P=a(8882),_=a(9501),S=e=>{var s,a,p;let{id:v,profileData:j,isOwner:w,setProfileData:b,fetchProfile:S}=e,[z,F]=(0,l.useState)(!1),[R,E]=(0,l.useState)(!1),[I,O]=(0,l.useState)(null),[U,T]=(0,l.useState)(null),[q,V]=(0,l.useState)(null),[B,L]=(0,l.useState)(null),[Y,D]=(0,l.useState)(!1),{setUser:A}=(0,P.Z)(),{register:Q,handleSubmit:$,setValue:M}=(0,_.cI)({defaultValues:{username:null==j?void 0:j.username,dateOfBirth:null==j?void 0:null===(s=j.dateOfBirth)||void 0===s?void 0:s.split("T")[0],gender:null==j?void 0:j.gender}}),W=(0,l.useRef)(),G=(0,l.useRef)(),J=async e=>{try{D(!0);let s=new FormData;s.append("username",e.username),s.append("dateOfBirth",e.dateOfBirth),s.append("gender",e.gender),q&&s.append("profilePicture",q);let a=await (0,C.Lj)(v,s);b({...j,...a}),F(!1),T(null),A(a),await S()}catch(e){console.error("error updating user profile",e)}finally{D(!1)}},X=async e=>{e.preventDefault();try{D(!0);let e=new FormData;B&&e.append("coverPhoto",B);let s=await (0,C.qo)(v,e);b({...j,coverPhoto:s.coverPhoto}),E(!1),L(null)}catch(e){console.error("error updating user cover photo",e)}finally{D(!1)}};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative h-64 md:h-80 bg-gray-300 overflow-hidden ",children:[(0,t.jsx)("img",{src:null==j?void 0:j.coverPhoto,alt:"cover",className:"w-full h-full object-cover"}),w&&(0,t.jsxs)(r.z,{className:"absolute bottom-4 right-4 flex items-center",variant:"secondary",size:"sm",onClick:()=>E(!0),children:[(0,t.jsx)(o.Z,{className:" mr-0 md:mr-2 h-4 w-4"}),(0,t.jsx)("span",{className:"hidden md:block",children:"Edit Cover Photo"})]})]}),(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16 relative z-10",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-end md:space-x-5 ",children:[(0,t.jsxs)(i.qE,{className:"w-32 h-32 border-4 border-white dark:border-gray-700",children:[(0,t.jsx)(i.F$,{src:null==j?void 0:j.profilePicture,alt:j.username}),(0,t.jsx)(i.Q5,{className:"dark:bg-gray-400",children:null==j?void 0:null===(a=j.username)||void 0===a?void 0:a.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsxs)("div",{className:"mt-4 mdLmt-0 text-center md:text-left flex-grow",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:null==j?void 0:j.username}),(0,t.jsxs)("p",{className:"text-gray-400 font-semibold",children:[null==j?void 0:j.followerCount," friends"]})]}),w&&(0,t.jsxs)(r.z,{className:"mt-4 md:mt-0 cursor-pointer",onClick:()=>F(!0),children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),(0,t.jsx)(n.M,{children:z&&(0,t.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)(h.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:" bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Edit Profile"}),(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:()=>F(!1),children:(0,t.jsx)(c.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:$(J),children:[(0,t.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,t.jsxs)(i.qE,{className:"w-24 h-24 border-4 border-white dark:border-gray-700 mb-2",children:[(0,t.jsx)(i.F$,{src:U||(null==j?void 0:j.profilePicture),alt:null==j?void 0:j.username}),(0,t.jsx)(i.Q5,{className:"dark:bg-gray-400",children:null==j?void 0:null===(p=j.username)||void 0===p?void 0:p.split(" ").map(e=>e[0]).join("")})]}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:W,onChange:e=>{let s=e.target.files[0];s&&(V(s),T(URL.createObjectURL(s)))}}),(0,t.jsxs)(r.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Change Profile Picture"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x._,{htmlFor:"username",children:"Username"}),(0,t.jsx)(f.I,{id:"username",...Q("username")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x._,{htmlFor:"dateOfBirth",children:"Date of Birth"}),(0,t.jsx)(f.I,{id:"dateOfBirth",type:"date",...Q("dateOfBirth")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(x._,{htmlFor:"gender",children:"Gender"}),(0,t.jsxs)(g,{onValueChange:e=>M("gender",e),defaultValue:null==j?void 0:j.gender,children:[(0,t.jsx)(N,{children:(0,t.jsx)(y,{placeholder:"Select gender"})}),(0,t.jsxs)(k,{children:[(0,t.jsx)(Z,{value:"male",children:"Male"}),(0,t.jsx)(Z,{value:"female",children:"Female"}),(0,t.jsx)(Z,{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)(r.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-400 text-white",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"})," ",Y?"Saving...":"Save changes"]})]})]})})}),(0,t.jsx)(n.M,{children:R&&(0,t.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)(h.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:" bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Edit Cover Photo"}),(0,t.jsx)(r.z,{variant:"ghost",size:"icon",onClick:()=>E(!1),children:(0,t.jsx)(c.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("form",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[I&&(0,t.jsx)("img",{src:I,alt:"cover-photo",className:"w-full h-40 object-cover rounded-lg mb-4"}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:G,onChange:e=>{let s=e.target.files[0];s&&(L(s),O(URL.createObjectURL(s)))}}),(0,t.jsxs)(r.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Select New Cover Photo"]})]}),(0,t.jsxs)(r.z,{className:"w-full bg-blue-600 hover:bg-blue-400 text-white",onClick:X,disabled:!B,type:"button",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"})," ",Y?"Saving...":"Save Cover Photo"]})]})]})})})]})},z=a(3974),F=a(3583),R=a(7782),E=a(1810),I=a(2718),O=a(8919),U=a(3871),T=a(1298),q=a(7850),V=e=>{var s,a,o,d,c,u;let{post:m,isLiked:x,onShare:f,onComment:p,onLike:v}=e,[g,y]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),b=(0,l.useRef)(null),k=null==m?void 0:null===(a=m.user)||void 0===a?void 0:null===(s=a.username)||void 0===s?void 0:s.split(" ").map(e=>e[0]).join(""),Z=()=>"http://localhost:3000/".concat(null==m?void 0:m.id),C=e=>{let s;let a=Z();switch(e){case"facebook":s="https://www.facebook.com/sharer/sharer.php?u=}";break;case"twitter":s="https://twitter.com/intent/tweet?url=}";break;case"linkedin":s="https://www.linkedin.com/shareArticle?mini=true&url=}";break;case"copy":navigator.clipboard.writeText(a),w(!1);return;default:return}window.open(s,"_blank"),w(!1)};return(0,t.jsx)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsx)(F.Zb,{children:(0,t.jsxs)(F.aY,{className:"p-2 sm:p-6  dark:text-white ",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,t.jsx)(i.qE,{children:(null==m?void 0:null===(o=m.user)||void 0===o?void 0:o.profilePicture)?(0,t.jsx)(i.F$,{src:null==m?void 0:null===(d=m.user)||void 0===d?void 0:d.profilePicture,alt:null==m?void 0:null===(c=m.user)||void 0===c?void 0:c.username}):(0,t.jsx)(i.Q5,{className:"dark:bg-gray-400",children:k})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold dark:text-white",children:null==m?void 0:null===(u=m.user)||void 0===u?void 0:u.username}),(0,t.jsx)("p",{className:"font-sm text-gray-500",children:(0,j.F)(null==m?void 0:m.createdAt)})]})]}),(0,t.jsx)(r.z,{variant:"ghost",className:"dark:hover:bg-gray-500",children:(0,t.jsx)(R.Z,{className:"dark:text-white h-4 w-4"})})]}),(0,t.jsx)("p",{className:"mb-4",children:null==m?void 0:m.content}),(null==m?void 0:m.mediaUrl)&&"image"===m.mediaType&&(0,t.jsx)("img",{src:null==m?void 0:m.mediaUrl,alt:"post_image",className:"w-full h-auto rounded-lg mb-4"}),(null==m?void 0:m.mediaUrl)&&"video"===m.mediaType&&(0,t.jsxs)("video",{controls:!0,className:"w-full h-[500px] rounded-lg mb-4",children:[(0,t.jsx)("source",{src:null==m?void 0:m.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag"]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",children:[null==m?void 0:m.likeCount," likes"]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",onClick:()=>y(!g),children:[null==m?void 0:m.commentCount," comments"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",children:[null==m?void 0:m.shareCount," share"]})]})]}),(0,t.jsx)(U.Z,{className:"mb-2 dark:bg-gray-400"}),(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsxs)(r.z,{variant:"ghost",className:"flex-1 dark:hover:bg-gray-600 ".concat(x?"text-blue-600":""),onClick:v,children:[(0,t.jsx)(E.Z,{className:"sm:mr-2 h-4 w-4"})," Like"]}),(0,t.jsxs)(r.z,{variant:"ghost",className:"flex-1 dark:hover:bg-gray-600 ",onClick:()=>{y(!0),setTimeout(()=>{var e;null===(e=b.current)||void 0===e||e.focus()},0)},children:[(0,t.jsx)(I.Z,{className:" sm:mr-2 h-4 w-4"})," Comment"]}),(0,t.jsxs)(T.Vq,{open:N,onOpenChange:w,children:[(0,t.jsx)(T.hg,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",className:"flex-1 dark:hover:bg-gray-500",onClick:f,children:[(0,t.jsx)(O.Z,{className:"sm:mr-2 h-4 w-4"}),"share"]})}),(0,t.jsxs)(T.cZ,{children:[(0,t.jsxs)(T.fK,{children:[(0,t.jsx)(T.$N,{children:"Share This Post"}),(0,t.jsx)(T.Be,{children:"Choose how you want to share this post"})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-4 ",children:[(0,t.jsx)(r.z,{onClick:()=>C("facebook"),children:"Share on Facebook"}),(0,t.jsx)(r.z,{onClick:()=>C("twitter"),children:"Share on Twitter"}),(0,t.jsx)(r.z,{onClick:()=>C("linkedin"),children:"Share on Linkedin"}),(0,t.jsx)(r.z,{onClick:()=>C("copy"),children:"Copy Link"})]})]})]})]}),(0,t.jsx)(U.Z,{className:"mb-2 dark:bg-gray-400"}),(0,t.jsx)(n.M,{children:g&&(0,t.jsx)(h.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,t.jsx)(q.Z,{post:m,onComment:p,commentInputRef:b})})})]})})},null==m?void 0:m._id)},B=a(4938),L=a(8997),Y=a(3774),D=a(5005),A=a(5900),Q=a(6966),$=a(3041),M=a(9345),W=a(695),G=a(5936),J=a(3745),X=a(9681),K=a(9064),H=e=>{let{id:s,isOwner:a}=e,{fetchMutualFriends:n,mutualFriends:o,UnfollowUser:d}=(0,X.e)();(0,l.useEffect)(()=>{s&&n(s)},[s,n]);let c=async e=>{await d(e),K.ZP.success("you have unfollow successfully")};return(0,t.jsx)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:(0,t.jsx)(F.Zb,{children:(0,t.jsxs)(F.aY,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Mutual Friends"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==o?void 0:o.map(e=>(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i.qE,{children:(null==e?void 0:e.profilePicture)?(0,t.jsx)(i.F$,{src:null==e?void 0:e.profilePicture,alt:null==e?void 0:e.username}):(0,t.jsx)(i.Q5,{className:"dark:bg-gray-400",children:userPlaceholder})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold dark:text-gray-100",children:null==e?void 0:e.username}),(0,t.jsxs)("p",{className:"text-sm text-gray-400",children:[null==e?void 0:e.followerCount," folllowers"]})]})]}),(0,t.jsxs)(G.h_,{children:[(0,t.jsx)(G.$F,{asChild:!0,children:(0,t.jsx)(r.z,{variant:"ghost",size:"icon",children:(0,t.jsx)(R.Z,{className:"h-4 w-4 text-gray-300"})})}),a&&(0,t.jsx)(G.AW,{align:"end",onClick:async()=>{await c(null==e?void 0:e._id),await n(s)},children:(0,t.jsxs)(G.Xi,{children:[(0,t.jsx)(J.Z,{className:"h-4 w-4 mr-2"})," Unfollow"]})})]})]},null==e?void 0:e._id))})]})})})},ee=a(1670),es=e=>{let{isOpen:s,onClose:a,initialData:l,id:i,fetchProfile:n}=e,{register:o,handleSubmit:d,reset:c,formState:{isSubmitting:u}}=(0,_.cI)({defaultValues:l}),h=async e=>{try{await (0,C.ir)(i,e),K.ZP.success("user bio updated successfully"),await n(),a()}catch(e){console.log("error creating or updating user bio",e)}};return(0,t.jsx)(T.Vq,{open:s,onOpenChange:a,children:(0,t.jsxs)(T.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsx)(T.fK,{children:"Edit Bio"}),(0,t.jsxs)("form",{onSubmit:d(h),children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"bio",className:"text-right",children:"Bio"}),(0,t.jsx)(ee.g,{id:"bioText",className:"col-span-3",...o("bioText")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"liveIn",className:"text-right",children:"Live In"}),(0,t.jsx)(f.I,{id:"liveIn",className:"col-span-3",...o("liveIn")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"relationship",className:"text-right",children:"Relationship"}),(0,t.jsx)(f.I,{id:"relationship",...o("relationship"),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"workPlace",className:"text-right",children:"Work Place"}),(0,t.jsx)(f.I,{id:"workplace",...o("workplace"),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"education",className:"text-right",children:"Education"}),(0,t.jsx)(f.I,{id:"education",...o("education"),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"phone",className:"text-right",children:"Phone"}),(0,t.jsx)(f.I,{id:"phone",...o("phone"),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"hometown",className:"text-right",children:"Hometown"}),(0,t.jsx)(f.I,{id:"hometown",...o("hometown"),className:"col-span-3"})]})]}),(0,t.jsx)(T.cN,{children:(0,t.jsxs)(r.z,{type:"submit",disabled:u,children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"})," ",u?"Saving...":"save chnages"]})})]})]})})},ea=a(810),et=e=>{var s,a,i,n,o,d,c,u,m,x,f,p;let{activeTab:v,id:g,profileData:y,isOwner:N,fetchProfile:w}=e,[b,k]=(0,l.useState)(!1),[Z,C]=(0,l.useState)(new Set),{userPosts:P,fetchUserPost:_,handleLikePost:S,handleCommentPost:z,handleSharePost:R}=(0,ea.Y)();(0,l.useEffect)(()=>{g&&_(g)},[g,_]),(0,l.useEffect)(()=>{let e=localStorage.getItem("likePosts");e&&C(new Set(JSON.parse(e)))},[]);let E=async e=>{let s=new Set(Z);s.has(e)?(s.delete(e),toast.error("post disliked successfully")):(s.add(e),toast.success("post like successfully")),C(s),localStorage.setItem("likePosts",JSON.stringify(Array.from(s)));try{await S(e),await fetchPost()}catch(e){console.error(e),toast.error("failed to like or unlike the post")}},I={posts:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 ",children:[(0,t.jsx)("div",{className:"w-full lg:w-[70%] space-y-6 mb-4",children:null==P?void 0:P.map(e=>(0,t.jsx)(V,{post:e,isLiked:Z.has(null==e?void 0:e._id),onLike:()=>E(null==e?void 0:e._id),onComment:async s=>{await z(null==e?void 0:e._id,s.text),await _(g)},onShare:async()=>{await R(null==e?void 0:e._id),await _(g)}},null==P?void 0:P._id))}),(0,t.jsx)("div",{className:"w-full lg:w-[30%]",children:(0,t.jsx)(F.Zb,{children:(0,t.jsxs)(F.aY,{className:"p-3 sm:p-6 mb-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Intro"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:null==y?void 0:null===(s=y.bio)||void 0===s?void 0:s.bioText}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 dark:text-gray-300",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(B.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:[" ",null==y?void 0:null===(a=y.bio)||void 0===a?void 0:a.liveIn]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(L.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(i=y.bio)||void 0===i?void 0:i.relationship})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(n=y.bio)||void 0===n?void 0:n.hometown})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(D.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:[" ",null==y?void 0:null===(o=y.bio)||void 0===o?void 0:o.workplace]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:[" ",null==y?void 0:null===(d=y.bio)||void 0===d?void 0:d.education]})]})]}),(0,t.jsxs)("div",{className:"flex items-center mb-4 dark:text-gray-300",children:[(0,t.jsx)(Q.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:["Followed by ",null==y?void 0:y.followingCount," people"]})]}),N&&(0,t.jsx)(r.z,{className:"w-full ",onClick:()=>k(!0),children:"Edit Bio"})]})})})]}),about:(0,t.jsx)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:(0,t.jsx)(F.Zb,{children:(0,t.jsxs)(F.aY,{className:"sm:p-6 p-3 mb-2",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:["About ",null==y?void 0:y.username]}),(0,t.jsxs)("div",{className:"space-y-4 dark:text-gray-300",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(D.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(c=y.bio)||void 0===c?void 0:c.workplace})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:[" ",null==y?void 0:null===(u=y.bio)||void 0===u?void 0:u.education]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(B.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(m=y.bio)||void 0===m?void 0:m.liveIn})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(L.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(x=y.bio)||void 0===x?void 0:x.relationship})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(f=y.bio)||void 0===f?void 0:f.hometown})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)($.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:null===(p=y.bio)||void 0===p?void 0:p.phone})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(M.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{children:null==y?void 0:y.email})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(W.Z,{className:"w-5 h-5 mr-2"}),(0,t.jsxs)("span",{children:["Birthday: ",(0,j.u)(null==y?void 0:y.dateOfBirth)]})]})]})]})})}),friends:(0,t.jsx)(H,{id:g,isOwner:N}),photos:(0,t.jsx)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:(0,t.jsx)(F.Zb,{children:(0,t.jsxs)(F.aY,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Photos"}),(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:null==P?void 0:P.filter(e=>(null==e?void 0:e.mediaType)==="image"&&(null==e?void 0:e.mediaUrl)).map(e=>(0,t.jsx)("img",{src:null==e?void 0:e.mediaUrl,alt:"user_all_photos",className:"w-[200px] h-[150px] object-cover rounded-lg"},null==e?void 0:e._id))})]})})})};return(0,t.jsxs)("div",{children:[I[v]||null,(0,t.jsx)(es,{isOpen:b,onClose:()=>k(!1),fetchProfile:w,initialData:null==y?void 0:y.bio,id:g})]})},el=e=>{let{id:s,profileData:a,isOwner:i,setProfileData:r,fetchProfile:n}=e,[o,d]=(0,l.useState)("posts");return(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-1 sm:px-6 lg:px-8 mt-8",children:(0,t.jsxs)(z.mQ,{defaultValue:"posts",className:"w-full",onValueChange:d,children:[(0,t.jsxs)(z.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(z.SP,{value:"posts",children:"Posts"}),(0,t.jsx)(z.SP,{value:"about",children:"About"}),(0,t.jsx)(z.SP,{value:"friends",children:"Friends"}),(0,t.jsx)(z.SP,{value:"photos",children:"Photos"})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(et,{activeTab:o,profileData:a,id:s,isOwner:i,setProfileData:r,fetchProfile:n})})]})})},ei=a(9376),er=()=>{let e=(0,ei.useParams)().id,[s,a]=(0,l.useState)(null),[i,r]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),d=(0,l.useCallback)(async()=>{r(!0);try{let s=await (0,C.YI)(e);a(s.profile),o(s.isOwner)}catch(e){console.error(e)}finally{r(!1)}},[e]);return((0,l.useEffect)(()=>{e&&d()},[e,d]),i)?(0,t.jsx)("div",{children:"Loading..."}):s?(0,t.jsxs)("div",{children:[(0,t.jsx)(S,{profileData:s,setProfileData:a,isOwner:n,id:e,fetchProfile:d}),(0,t.jsx)(el,{profileData:s,setProfileData:a,isOwner:n,id:e,fetchProfile:d})]}):(0,t.jsx)("div",{children:"No profile data available."})}},5936:function(e,s,a){"use strict";a.d(s,{$F:function(){return d},AW:function(){return c},Ju:function(){return m},VD:function(){return h},Xi:function(){return u},h_:function(){return o}});var t=a(7437),l=a(2265),i=a(85),r=a(653),n=a(6474);let o=i.fC,d=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,l.forwardRef((e,s)=>{let{className:a,inset:l,children:o,...d}=e;return(0,t.jsxs)(i.fF,{ref:s,className:(0,n.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",a),...d,children:[o,(0,t.jsx)(r.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.tu,{ref:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=i.tu.displayName;let c=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(i.Uv,{children:(0,t.jsx)(i.VY,{ref:s,sideOffset:l,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});c.displayName=i.VY.displayName;let u=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.ck,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...r})});u.displayName=i.ck.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:o,...d}=e;return(0,t.jsxs)(i.oC,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:o,...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(r.nQG,{className:"h-4 w-4"})})}),l]})}).displayName=i.oC.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...o}=e;return(0,t.jsxs)(i.Rk,{ref:s,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(r.jXb,{className:"h-4 w-4 fill-current"})})}),l]})}).displayName=i.Rk.displayName;let m=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.__,{ref:s,className:(0,n.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r})});m.displayName=i.__.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.Z0,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});h.displayName=i.Z0.displayName},3032:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var t=a(7437),l=a(2265),i=a(6394),r=a(7712),n=a(6474);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.f,{ref:s,className:(0,n.cn)(o(),a),...l})});d.displayName=i.f.displayName},3974:function(e,s,a){"use strict";a.d(s,{SP:function(){return d},dr:function(){return o},mQ:function(){return n},nU:function(){return c}});var t=a(7437),l=a(2265),i=a(271),r=a(6474);let n=i.fC,o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.aV,{ref:s,className:(0,r.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...l})});o.displayName=i.aV.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...l})});d.displayName=i.xz.displayName;let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.VY,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});c.displayName=i.VY.displayName},7061:function(e,s,a){"use strict";a.d(s,{AW:function(){return x},C0:function(){return c},Lj:function(){return u},P_:function(){return r},Qv:function(){return i},W5:function(){return n},YI:function(){return d},ZT:function(){return l},ik:function(){return o},ir:function(){return h},qo:function(){return m}});var t=a(7415);let l=async()=>{try{let e=await t.Z.get("/api/users/friend-request");return null==e?void 0:e.data}catch(e){throw console.log(e),e}},i=async()=>{try{let e=await t.Z.get("/api/users/user-to-request");return null==e?void 0:e.data}catch(e){throw console.log(e),e}},r=async e=>{try{let s=await t.Z.post("/api/users/follow",{userIdToFollow:e});return null==s?void 0:s.data}catch(e){throw console.log(e),e}},n=async e=>{try{let s=await t.Z.post("/api/users/unfollow",{userIdToUnFollow:e});return null==s?void 0:s.data}catch(e){throw console.log(e),e}},o=async e=>{try{let s=await t.Z.post("/api/users/friend-request/remove",{requestSenderId:e});return null==s?void 0:s.data}catch(e){throw console.log(e),e}},d=async e=>{try{var s;let a=await t.Z.get("/api/users/profile/".concat(e));return null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.data}catch(e){throw console.log(e),e}},c=async e=>{try{var s;let a=await t.Z.get("/api/users/mutual-friends/".concat(e));return null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.data}catch(e){throw console.log(e),e}},u=async(e,s)=>{try{var a;let l=await t.Z.put("/api/users/profile/".concat(e),s);return null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.data}catch(e){throw console.log(e),e}},m=async(e,s)=>{try{var a;let l=await t.Z.put("/api/users/profile/cover-photo/".concat(e),s);return null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.data}catch(e){throw console.log(e),e}},h=async(e,s)=>{try{var a;let l=await t.Z.put("/api/users/bio/".concat(e),s);return null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.data}catch(e){throw console.log(e),e}},x=async()=>{try{var e;let s=await t.Z.get("/api/users");return null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.data}catch(e){throw console.log(e),e}}},9681:function(e,s,a){"use strict";a.d(s,{e:function(){return i}});var t=a(7061),l=a(9064);let i=(0,a(3011).U)((e,s)=>({friendRequest:[],friendSuggestion:[],mutualFriends:[],loading:!1,fetchFriendRequest:async()=>{e({loading:!0});try{let s=await (0,t.ZT)();e({friendRequest:s.data,loading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},fetchFriendSuggestion:async()=>{e({loading:!0});try{let s=await (0,t.Qv)();e({friendSuggestion:s.data,isLoading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},fetchMutualFriends:async s=>{e({loading:!0});try{let a=await (0,t.C0)(s);e({mutualFriends:a,loading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},followUser:async s=>{e({loading:!0});try{await (0,t.P_)(s)}catch(s){e({error:s,loading:!1})}},UnfollowUser:async s=>{e({loading:!0});try{await (0,t.W5)(s)}catch(s){e({error:s,loading:!1})}},deleteUserFromRequest:async s=>{e({loading:!0});try{await (0,t.ik)(s),l.ZP.success("you have deleted friend successfully")}catch(s){e({error:s,loading:!1})}}}))}},function(e){e.O(0,[310,454,835,386,577,645,26,85,698,237,907,971,117,744],function(){return e(e.s=8876)}),_N_E=e.O()}]);