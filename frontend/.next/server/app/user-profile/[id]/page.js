(()=>{var e={};e.id=615,e.ids=[615],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},2473:e=>{"use strict";e.exports=import("postcss")},2446:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(6555),s(7147),s(996);var a=s(170),r=s(5002),l=s(3876),i=s.n(l),n=s(6299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["user-profile",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6555)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\user-profile\\[id]\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7147)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\user-profile\\[id]\\page.js"],u="/user-profile/[id]/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/user-profile/[id]/page",pathname:"/user-profile/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5157:(e,t,s)=>{Promise.resolve().then(s.bind(s,4367))},2310:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},3266:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]])},8622:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},9969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9527:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8530:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3210:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]])},7663:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},54:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6323).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},8589:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>k});var r=s(7247),l=s(8964),i=s(7103),n=s(5887),o=s(6460),c=s(9969),d=s(9527),u=s(2310),h=s(8622),m=s(3210),p=s(8530),x=s(5389),f=s(3266),g=s(1914),y=s(8277),v=s(3462),j=s(8557),w=s(6481),b=s(5294),N=e([i]);i=(N.then?(await N)():N)[0];let k=({activeTab:e,id:t,profileData:s,isOwner:a,fetchProfile:N})=>{let[k,S]=(0,l.useState)(!1),[C,P]=(0,l.useState)(new Set),{userPosts:M,fetchUserPost:Z,handleLikePost:R,handleCommentPost:E,handleSharePost:T}=(0,w.Y)();(0,l.useEffect)(()=>{t&&Z(t)},[t,Z]),(0,l.useEffect)(()=>{let e=localStorage.getItem("likePosts");e&&P(new Set(JSON.parse(e)))},[]);let _=async e=>{let t=new Set(C);t.has(e)?(t.delete(e),toast.error("post disliked successfully")):(t.add(e),toast.success("post like successfully")),P(t),localStorage.setItem("likePosts",JSON.stringify(Array.from(t)));try{await R(e),await fetchPost()}catch(e){console.error(e),toast.error("failed to like or unlike the post")}},I={posts:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 ",children:[r.jsx("div",{className:"w-full lg:w-[70%] space-y-6 mb-4",children:M?.map(e=>r.jsx(i.Z,{post:e,isLiked:C.has(e?._id),onLike:()=>_(e?._id),onComment:async s=>{await E(e?._id,s.text),await Z(t)},onShare:async()=>{await T(e?._id),await Z(t)}},M?._id))}),r.jsx("div",{className:"w-full lg:w-[30%]",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-3 sm:p-6 mb-2",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Intro"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:s?.bio?.bioText}),(0,r.jsxs)("div",{className:"space-y-2 mb-4 dark:text-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(o.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:[" ",s?.bio?.liveIn]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.relationship})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.hometown})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(u.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:[" ",s?.bio?.workplace]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:[" ",s?.bio?.education]})]})]}),(0,r.jsxs)("div",{className:"flex items-center mb-4 dark:text-gray-300",children:[r.jsx(m.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:["Followed by ",s?.followingCount," people"]})]}),a&&r.jsx(g.z,{className:"w-full ",onClick:()=>S(!0),children:"Edit Bio"})]})})})]}),about:r.jsx(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"sm:p-6 p-3 mb-2",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:["About ",s?.username]}),(0,r.jsxs)("div",{className:"space-y-4 dark:text-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(u.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.workplace})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:[" ",s?.bio?.education]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(o.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.liveIn})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(c.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.relationship})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.hometown})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.bio?.phone})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{className:"w-5 h-5 mr-2"}),r.jsx("span",{children:s?.email})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(f.Z,{className:"w-5 h-5 mr-2"}),(0,r.jsxs)("span",{children:["Birthday: ",(0,b.u)(s?.dateOfBirth)]})]})]})]})})}),friends:r.jsx(v.Z,{id:t,isOwner:a}),photos:r.jsx(y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:M?.filter(e=>e?.mediaType==="image"&&e?.mediaUrl).map(e=>r.jsx("img",{src:e?.mediaUrl,alt:"user_all_photos",className:"w-[200px] h-[150px] object-cover rounded-lg"},e?._id))})]})})})};return(0,r.jsxs)("div",{children:[I[e]||null,r.jsx(j.Z,{isOpen:k,onClose:()=>S(!1),fetchProfile:N,initialData:s?.bio,id:t})]})};a()}catch(e){a(e)}})},2952:(e,t,s)=>{"use strict";s.d(t,{Z:()=>eQ});var a=s(7247),r=s(8826),l=s(1914),i=s(7078),n=s(6323);let o=(0,n.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),c=(0,n.Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var d=s(7013);let u=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var h=s(7663),m=s(8964),p=s(8277),x=s(8221),f=s(2898),g=s(2095),y=s(6817),v=s(8779),j=s(319),w=s(1829),b=s(3191),N=s(732),k=s(1310),S=s(6990),C=s(3402),P=s(18),M=s(7015),Z=s(1370),R=s(8611),E=s(2251),T=s(9008),_=s(5090),I=s(8469),D=s(9537),z=s(5298),L=m.forwardRef((e,t)=>(0,a.jsx)(E.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));L.displayName="VisuallyHidden";var V=s(8529),F=s(8350),q=[" ","Enter","ArrowUp","ArrowDown"],O=[" ","Enter"],A="Select",[B,U,H]=(0,w.B)(A),[W,K]=(0,N.b)(A,[H,Z.D7]),Y=(0,Z.D7)(),[G,Q]=W(A),[$,X]=W(A),J=e=>{let{__scopeSelect:t,children:s,open:r,defaultOpen:l,onOpenChange:i,value:n,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:x,form:f}=e,g=Y(t),[y,v]=m.useState(null),[j,w]=m.useState(null),[b,N]=m.useState(!1),S=(0,k.gm)(d),[C=!1,P]=(0,I.T)({prop:r,defaultProp:l,onChange:i}),[R,E]=(0,I.T)({prop:n,defaultProp:o,onChange:c}),T=m.useRef(null),_=!y||f||!!y.closest("form"),[D,z]=m.useState(new Set),L=Array.from(D).map(e=>e.props.value).join(";");return(0,a.jsx)(Z.fC,{...g,children:(0,a.jsxs)(G,{required:x,scope:t,trigger:y,onTriggerChange:v,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:(0,M.M)(),value:R,onValueChange:E,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:T,disabled:p,children:[(0,a.jsx)(B.Provider,{scope:t,children:(0,a.jsx)($,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(e=>{z(t=>new Set(t).add(e))},[]),onNativeOptionRemove:m.useCallback(e=>{z(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:s})}),_?(0,a.jsxs)(eV,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:R,onChange:e=>E(e.target.value),disabled:p,form:f,children:[void 0===R?(0,a.jsx)("option",{value:""}):null,Array.from(D)]},L):null]})})};J.displayName=A;var ee="SelectTrigger",et=m.forwardRef((e,t)=>{let{__scopeSelect:s,disabled:r=!1,...l}=e,i=Y(s),n=Q(ee,s),o=n.disabled||r,c=(0,b.e)(t,n.onTriggerChange),d=U(s),u=m.useRef("touch"),[h,p,x]=eF(e=>{let t=d().filter(e=>!e.disabled),s=t.find(e=>e.value===n.value),a=eq(t,e,s);void 0!==a&&n.onValueChange(a.value)}),f=e=>{o||(n.onOpenChange(!0),x()),e&&(n.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,a.jsx)(Z.ee,{asChild:!0,...i,children:(0,a.jsx)(E.WV.button,{type:"button",role:"combobox","aria-controls":n.contentId,"aria-expanded":n.open,"aria-required":n.required,"aria-autocomplete":"none",dir:n.dir,"data-state":n.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":eL(n.value)?"":void 0,...l,ref:c,onClick:(0,j.M)(l.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&f(e)}),onPointerDown:(0,j.M)(l.onPointerDown,e=>{u.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:(0,j.M)(l.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),(!t||" "!==e.key)&&q.includes(e.key)&&(f(),e.preventDefault())})})})});et.displayName=ee;var es="SelectValue",ea=m.forwardRef((e,t)=>{let{__scopeSelect:s,className:r,style:l,children:i,placeholder:n="",...o}=e,c=Q(es,s),{onValueNodeHasChildrenChange:d}=c,u=void 0!==i,h=(0,b.e)(t,c.onValueNodeChange);return(0,D.b)(()=>{d(u)},[d,u]),(0,a.jsx)(E.WV.span,{...o,ref:h,style:{pointerEvents:"none"},children:eL(c.value)?(0,a.jsx)(a.Fragment,{children:n}):i})});ea.displayName=es;var er=m.forwardRef((e,t)=>{let{__scopeSelect:s,children:r,...l}=e;return(0,a.jsx)(E.WV.span,{"aria-hidden":!0,...l,ref:t,children:r||"▼"})});er.displayName="SelectIcon";var el=e=>(0,a.jsx)(R.h,{asChild:!0,...e});el.displayName="SelectPortal";var ei="SelectContent",en=m.forwardRef((e,t)=>{let s=Q(ei,e.__scopeSelect),[r,l]=m.useState();return((0,D.b)(()=>{l(new DocumentFragment)},[]),s.open)?(0,a.jsx)(ed,{...e,ref:t}):r?y.createPortal((0,a.jsx)(eo,{scope:e.__scopeSelect,children:(0,a.jsx)(B.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),r):null});en.displayName=ei;var[eo,ec]=W(ei),ed=m.forwardRef((e,t)=>{let{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:i,onPointerDownOutside:n,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:x,sticky:f,hideWhenDetached:g,avoidCollisions:y,...v}=e,w=Q(ei,s),[N,k]=m.useState(null),[M,Z]=m.useState(null),R=(0,b.e)(t,e=>k(e)),[E,_]=m.useState(null),[I,D]=m.useState(null),z=U(s),[L,q]=m.useState(!1),O=m.useRef(!1);m.useEffect(()=>{if(N)return(0,V.Ry)(N)},[N]),(0,C.EW)();let A=m.useCallback(e=>{let[t,...s]=z().map(e=>e.ref.current),[a]=s.slice(-1),r=document.activeElement;for(let s of e)if(s===r||(s?.scrollIntoView({block:"nearest"}),s===t&&M&&(M.scrollTop=0),s===a&&M&&(M.scrollTop=M.scrollHeight),s?.focus(),document.activeElement!==r))return},[z,M]),B=m.useCallback(()=>A([E,N]),[A,E,N]);m.useEffect(()=>{L&&B()},[L,B]);let{onOpenChange:H,triggerPointerDownPosRef:W}=w;m.useEffect(()=>{if(N){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(W.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():N.contains(s.target)||H(!1),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[N,H,W]),m.useEffect(()=>{let e=()=>H(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[H]);let[K,Y]=eF(e=>{let t=z().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),a=eq(t,e,s);a&&setTimeout(()=>a.ref.current.focus())}),G=m.useCallback((e,t,s)=>{let a=!O.current&&!s;(void 0!==w.value&&w.value===t||a)&&(_(e),a&&(O.current=!0))},[w.value]),$=m.useCallback(()=>N?.focus(),[N]),X=m.useCallback((e,t,s)=>{let a=!O.current&&!s;(void 0!==w.value&&w.value===t||a)&&D(e)},[w.value]),J="popper"===r?eh:eu,ee=J===eh?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:x,sticky:f,hideWhenDetached:g,avoidCollisions:y}:{};return(0,a.jsx)(eo,{scope:s,content:N,viewport:M,onViewportChange:Z,itemRefCallback:G,selectedItem:E,onItemLeave:$,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:I,position:r,isPositioned:L,searchRef:K,children:(0,a.jsx)(F.Z,{as:T.g7,allowPinchZoom:!0,children:(0,a.jsx)(P.M,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,j.M)(l,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(S.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:n,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,a.jsx)(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...v,...ee,onPlaced:()=>q(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:(0,j.M)(v.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Y(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=z().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,a=t.indexOf(s);t=t.slice(a+1)}setTimeout(()=>A(t)),e.preventDefault()}})})})})})})});ed.displayName="SelectContentImpl";var eu=m.forwardRef((e,t)=>{let{__scopeSelect:s,onPlaced:r,...l}=e,i=Q(ei,s),n=ec(ei,s),[o,c]=m.useState(null),[d,u]=m.useState(null),h=(0,b.e)(t,e=>u(e)),p=U(s),x=m.useRef(!1),f=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:j,focusSelectedItem:w}=n,N=m.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&g&&y&&j){let e=i.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),s=i.valueNode.getBoundingClientRect(),a=j.getBoundingClientRect();if("rtl"!==i.dir){let r=a.left-t.left,l=s.left-r,i=e.left-l,n=e.width+i,c=Math.max(n,t.width),d=window.innerWidth-10,u=(0,v.u)(l,[10,Math.max(10,d-c)]);o.style.minWidth=n+"px",o.style.left=u+"px"}else{let r=t.right-a.right,l=window.innerWidth-s.right-r,i=window.innerWidth-e.right-l,n=e.width+i,c=Math.max(n,t.width),d=window.innerWidth-10,u=(0,v.u)(l,[10,Math.max(10,d-c)]);o.style.minWidth=n+"px",o.style.right=u+"px"}let l=p(),n=window.innerHeight-20,c=g.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),m=parseInt(u.paddingTop,10),f=parseInt(u.borderBottomWidth,10),w=h+m+c+parseInt(u.paddingBottom,10)+f,b=Math.min(5*y.offsetHeight,w),N=window.getComputedStyle(g),k=parseInt(N.paddingTop,10),S=parseInt(N.paddingBottom,10),C=e.top+e.height/2-10,P=y.offsetHeight/2,M=h+m+(y.offsetTop+P);if(M<=C){let e=l.length>0&&y===l[l.length-1].ref.current;o.style.bottom="0px";let t=d.clientHeight-g.offsetTop-g.offsetHeight;o.style.height=M+Math.max(n-C,P+(e?S:0)+t+f)+"px"}else{let e=l.length>0&&y===l[0].ref.current;o.style.top="0px";let t=Math.max(C,h+g.offsetTop+(e?k:0)+P);o.style.height=t+(w-M)+"px",g.scrollTop=M-C+g.offsetTop}o.style.margin="10px 0",o.style.minHeight=b+"px",o.style.maxHeight=n+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,o,d,g,y,j,i.dir,r]);(0,D.b)(()=>N(),[N]);let[k,S]=m.useState();(0,D.b)(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);let C=m.useCallback(e=>{e&&!0===f.current&&(N(),w?.(),f.current=!1)},[N,w]);return(0,a.jsx)(em,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:(0,a.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,a.jsx)(E.WV.div,{...l,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});eu.displayName="SelectItemAlignedPosition";var eh=m.forwardRef((e,t)=>{let{__scopeSelect:s,align:r="start",collisionPadding:l=10,...i}=e,n=Y(s);return(0,a.jsx)(Z.VY,{...n,...i,ref:t,align:r,collisionPadding:l,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eh.displayName="SelectPopperPosition";var[em,ep]=W(ei,{}),ex="SelectViewport",ef=m.forwardRef((e,t)=>{let{__scopeSelect:s,nonce:r,...l}=e,i=ec(ex,s),n=ep(ex,s),o=(0,b.e)(t,i.onViewportChange),c=m.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,a.jsx)(B.Slot,{scope:s,children:(0,a.jsx)(E.WV.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:(0,j.M)(l.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:a}=n;if(a?.current&&s){let e=Math.abs(c.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,r=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(r<a){let l=r+e,i=Math.min(a,l),n=l-i;s.style.height=i+"px","0px"===s.style.bottom&&(t.scrollTop=n>0?n:0,s.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});ef.displayName=ex;var eg="SelectGroup",[ey,ev]=W(eg);m.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,l=(0,M.M)();return(0,a.jsx)(ey,{scope:s,id:l,children:(0,a.jsx)(E.WV.div,{role:"group","aria-labelledby":l,...r,ref:t})})}).displayName=eg;var ej="SelectLabel",ew=m.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,l=ev(ej,s);return(0,a.jsx)(E.WV.div,{id:l.id,...r,ref:t})});ew.displayName=ej;var eb="SelectItem",[eN,ek]=W(eb),eS=m.forwardRef((e,t)=>{let{__scopeSelect:s,value:r,disabled:l=!1,textValue:i,...n}=e,o=Q(eb,s),c=ec(eb,s),d=o.value===r,[u,h]=m.useState(i??""),[p,x]=m.useState(!1),f=(0,b.e)(t,e=>c.itemRefCallback?.(e,r,l)),g=(0,M.M)(),y=m.useRef("touch"),v=()=>{l||(o.onValueChange(r),o.onOpenChange(!1))};if(""===r)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(eN,{scope:s,value:r,disabled:l,textId:g,isSelected:d,onItemTextChange:m.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(B.ItemSlot,{scope:s,value:r,disabled:l,textValue:u,children:(0,a.jsx)(E.WV.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...n,ref:f,onFocus:(0,j.M)(n.onFocus,()=>x(!0)),onBlur:(0,j.M)(n.onBlur,()=>x(!1)),onClick:(0,j.M)(n.onClick,()=>{"mouse"!==y.current&&v()}),onPointerUp:(0,j.M)(n.onPointerUp,()=>{"mouse"===y.current&&v()}),onPointerDown:(0,j.M)(n.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:(0,j.M)(n.onPointerMove,e=>{y.current=e.pointerType,l?c.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,j.M)(n.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,j.M)(n.onKeyDown,e=>{c.searchRef?.current!==""&&" "===e.key||(O.includes(e.key)&&v()," "===e.key&&e.preventDefault())})})})})});eS.displayName=eb;var eC="SelectItemText",eP=m.forwardRef((e,t)=>{let{__scopeSelect:s,className:r,style:l,...i}=e,n=Q(eC,s),o=ec(eC,s),c=ek(eC,s),d=X(eC,s),[u,h]=m.useState(null),p=(0,b.e)(t,e=>h(e),c.onItemTextChange,e=>o.itemTextRefCallback?.(e,c.value,c.disabled)),x=u?.textContent,f=m.useMemo(()=>(0,a.jsx)("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return(0,D.b)(()=>(g(f),()=>v(f)),[g,v,f]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.WV.span,{id:c.textId,...i,ref:p}),c.isSelected&&n.valueNode&&!n.valueNodeHasChildren?y.createPortal(i.children,n.valueNode):null]})});eP.displayName=eC;var eM="SelectItemIndicator",eZ=m.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e;return ek(eM,s).isSelected?(0,a.jsx)(E.WV.span,{"aria-hidden":!0,...r,ref:t}):null});eZ.displayName=eM;var eR="SelectScrollUpButton",eE=m.forwardRef((e,t)=>{let s=ec(eR,e.__scopeSelect),r=ep(eR,e.__scopeSelect),[l,i]=m.useState(!1),n=(0,b.e)(t,r.onScrollButtonChange);return(0,D.b)(()=>{if(s.viewport&&s.isPositioned){let e=function(){i(t.scrollTop>0)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?(0,a.jsx)(eI,{...e,ref:n,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eE.displayName=eR;var eT="SelectScrollDownButton",e_=m.forwardRef((e,t)=>{let s=ec(eT,e.__scopeSelect),r=ep(eT,e.__scopeSelect),[l,i]=m.useState(!1),n=(0,b.e)(t,r.onScrollButtonChange);return(0,D.b)(()=>{if(s.viewport&&s.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;i(Math.ceil(t.scrollTop)<e)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?(0,a.jsx)(eI,{...e,ref:n,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});e_.displayName=eT;var eI=m.forwardRef((e,t)=>{let{__scopeSelect:s,onAutoScroll:r,...l}=e,i=ec("SelectScrollButton",s),n=m.useRef(null),o=U(s),c=m.useCallback(()=>{null!==n.current&&(window.clearInterval(n.current),n.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),(0,D.b)(()=>{let e=o().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[o]),(0,a.jsx)(E.WV.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:(0,j.M)(l.onPointerDown,()=>{null===n.current&&(n.current=window.setInterval(r,50))}),onPointerMove:(0,j.M)(l.onPointerMove,()=>{i.onItemLeave?.(),null===n.current&&(n.current=window.setInterval(r,50))}),onPointerLeave:(0,j.M)(l.onPointerLeave,()=>{c()})})}),eD=m.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e;return(0,a.jsx)(E.WV.div,{"aria-hidden":!0,...r,ref:t})});eD.displayName="SelectSeparator";var ez="SelectArrow";function eL(e){return""===e||void 0===e}m.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,l=Y(s),i=Q(ez,s),n=ec(ez,s);return i.open&&"popper"===n.position?(0,a.jsx)(Z.Eh,{...l,...r,ref:t}):null}).displayName=ez;var eV=m.forwardRef((e,t)=>{let{value:s,...r}=e,l=m.useRef(null),i=(0,b.e)(t,l),n=(0,z.D)(s);return m.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(n!==s&&t){let a=new Event("change",{bubbles:!0});t.call(e,s),e.dispatchEvent(a)}},[n,s]),(0,a.jsx)(L,{asChild:!0,children:(0,a.jsx)("select",{...r,ref:i,defaultValue:s})})});function eF(e){let t=(0,_.W)(e),s=m.useRef(""),a=m.useRef(0),r=m.useCallback(e=>{let r=s.current+e;t(r),function e(t){s.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),l=m.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,r,l]}function eq(e,t,s){var a;let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,l=(a=Math.max(s?e.indexOf(s):-1,0),e.map((t,s)=>e[(a+s)%e.length]));1===r.length&&(l=l.filter(e=>e!==s));let i=l.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return i!==s?i:void 0}eV.displayName="BubbleSelect";var eO=s(5294);let eA=m.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(et,{ref:r,className:(0,eO.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(er,{asChild:!0,children:a.jsx(g.jnn,{className:"h-4 w-4 opacity-50"})})]}));eA.displayName=et.displayName;let eB=m.forwardRef(({className:e,...t},s)=>a.jsx(eE,{ref:s,className:(0,eO.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(g.g8U,{})}));eB.displayName=eE.displayName;let eU=m.forwardRef(({className:e,...t},s)=>a.jsx(e_,{ref:s,className:(0,eO.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(g.v4q,{})}));eU.displayName=e_.displayName;let eH=m.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>a.jsx(el,{children:(0,a.jsxs)(en,{ref:l,className:(0,eO.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(eB,{}),a.jsx(ef,{className:(0,eO.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(eU,{})]})}));eH.displayName=en.displayName,m.forwardRef(({className:e,...t},s)=>a.jsx(ew,{ref:s,className:(0,eO.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=ew.displayName;let eW=m.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(eS,{ref:r,className:(0,eO.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eZ,{children:a.jsx(g.nQG,{className:"h-4 w-4"})})}),a.jsx(eP,{children:t})]}));eW.displayName=eS.displayName,m.forwardRef(({className:e,...t},s)=>a.jsx(eD,{ref:s,className:(0,eO.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=eD.displayName;var eK=s(8309),eY=s(4571),eG=s(2704);let eQ=({id:e,profileData:t,isOwner:s,setProfileData:n,fetchProfile:g})=>{let[y,v]=(0,m.useState)(!1),[j,w]=(0,m.useState)(!1),[b,N]=(0,m.useState)(null),[k,S]=(0,m.useState)(null),[C,P]=(0,m.useState)(null),[M,Z]=(0,m.useState)(null),[R,E]=(0,m.useState)(!1),{setUser:T}=(0,eY.Z)(),{register:_,handleSubmit:I,setValue:D}=(0,eG.cI)({defaultValues:{username:t?.username,dateOfBirth:t?.dateOfBirth?.split("T")[0],gender:t?.gender}}),z=(0,m.useRef)(),L=(0,m.useRef)(),V=async s=>{try{E(!0);let a=new FormData;a.append("username",s.username),a.append("dateOfBirth",s.dateOfBirth),a.append("gender",s.gender),C&&a.append("profilePicture",C);let r=await (0,eK.Lj)(e,a);n({...t,...r}),v(!1),S(null),T(r),await g()}catch(e){console.error("error updating user profile",e)}finally{E(!1)}},F=async s=>{s.preventDefault();try{E(!0);let s=new FormData;M&&s.append("coverPhoto",M);let a=await (0,eK.qo)(e,s);n({...t,coverPhoto:a.coverPhoto}),w(!1),Z(null)}catch(e){console.error("error updating user cover photo",e)}finally{E(!1)}};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative h-64 md:h-80 bg-gray-300 overflow-hidden ",children:[a.jsx("img",{src:t?.coverPhoto,alt:"cover",className:"w-full h-full object-cover"}),s&&(0,a.jsxs)(l.z,{className:"absolute bottom-4 right-4 flex items-center",variant:"secondary",size:"sm",onClick:()=>w(!0),children:[a.jsx(o,{className:" mr-0 md:mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden md:block",children:"Edit Cover Photo"})]})]}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16 relative z-10",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-end md:space-x-5 ",children:[(0,a.jsxs)(r.qE,{className:"w-32 h-32 border-4 border-white dark:border-gray-700",children:[a.jsx(r.F$,{src:t?.profilePicture,alt:t.username}),a.jsx(r.Q5,{className:"dark:bg-gray-400",children:t?.username?.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{className:"mt-4 mdLmt-0 text-center md:text-left flex-grow",children:[a.jsx("h1",{className:"text-3xl font-bold",children:t?.username}),(0,a.jsxs)("p",{className:"text-gray-400 font-semibold",children:[t?.followerCount," friends"]})]}),s&&(0,a.jsxs)(l.z,{className:"mt-4 md:mt-0 cursor-pointer",onClick:()=>v(!0),children:[a.jsx(c,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),a.jsx(i.M,{children:y&&a.jsx(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(p.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:" bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Edit Profile"}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>v(!1),children:a.jsx(d.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:I(V),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[(0,a.jsxs)(r.qE,{className:"w-24 h-24 border-4 border-white dark:border-gray-700 mb-2",children:[a.jsx(r.F$,{src:k||t?.profilePicture,alt:t?.username}),a.jsx(r.Q5,{className:"dark:bg-gray-400",children:t?.username?.split(" ").map(e=>e[0]).join("")})]}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:z,onChange:e=>{let t=e.target.files[0];t&&(P(t),S(URL.createObjectURL(t)))}}),(0,a.jsxs)(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>z.current?.click(),children:[a.jsx(u,{className:"h-4 w-4 mr-2"}),"Change Profile Picture"]})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"username",children:"Username"}),a.jsx(f.I,{id:"username",..._("username")})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"dateOfBirth",children:"Date of Birth"}),a.jsx(f.I,{id:"dateOfBirth",type:"date",..._("dateOfBirth")})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"gender",children:"Gender"}),(0,a.jsxs)(J,{onValueChange:e=>D("gender",e),defaultValue:t?.gender,children:[a.jsx(eA,{children:a.jsx(ea,{placeholder:"Select gender"})}),(0,a.jsxs)(eH,{children:[a.jsx(eW,{value:"male",children:"Male"}),a.jsx(eW,{value:"female",children:"Female"}),a.jsx(eW,{value:"other",children:"Other"})]})]})]}),(0,a.jsxs)(l.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-400 text-white",children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"})," ",R?"Saving...":"Save changes"]})]})]})})}),a.jsx(i.M,{children:j&&a.jsx(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(p.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:" bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Edit Cover Photo"}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>w(!1),children:a.jsx(d.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("form",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[b&&a.jsx("img",{src:b,alt:"cover-photo",className:"w-full h-40 object-cover rounded-lg mb-4"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:L,onChange:e=>{let t=e.target.files[0];t&&(Z(t),N(URL.createObjectURL(t)))}}),(0,a.jsxs)(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>L.current?.click(),children:[a.jsx(u,{className:"h-4 w-4 mr-2"}),"Select New Cover Photo"]})]}),(0,a.jsxs)(l.z,{className:"w-full bg-blue-600 hover:bg-blue-400 text-white",onClick:F,disabled:!M,type:"button",children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"})," ",R?"Saving...":"Save Cover Photo"]})]})]})})})]})}},236:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(7247),l=s(1783),i=s(8964),n=s(8589),o=e([n]);n=(o.then?(await o)():o)[0];let c=({id:e,profileData:t,isOwner:s,setProfileData:a,fetchProfile:o})=>{let[c,d]=(0,i.useState)("posts");return r.jsx("div",{className:"max-w-6xl mx-auto px-1 sm:px-6 lg:px-8 mt-8",children:(0,r.jsxs)(l.mQ,{defaultValue:"posts",className:"w-full",onValueChange:d,children:[(0,r.jsxs)(l.dr,{className:"grid w-full grid-cols-4",children:[r.jsx(l.SP,{value:"posts",children:"Posts"}),r.jsx(l.SP,{value:"about",children:"About"}),r.jsx(l.SP,{value:"friends",children:"Friends"}),r.jsx(l.SP,{value:"photos",children:"Photos"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(n.Z,{activeTab:c,profileData:t,id:e,isOwner:s,setProfileData:a,fetchProfile:o})})]})})};a()}catch(e){a(e)}})},4367:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>u});var r=s(7247),l=s(8964),i=s(2952),n=s(236),o=s(4178),c=s(8309),d=e([n]);n=(d.then?(await d)():d)[0];let u=()=>{let e=(0,o.useParams)().id,[t,s]=(0,l.useState)(null),[a,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),m=(0,l.useCallback)(async()=>{d(!0);try{let t=await (0,c.YI)(e);s(t.profile),h(t.isOwner)}catch(e){console.error(e)}finally{d(!1)}},[e]);return((0,l.useEffect)(()=>{e&&m()},[e,m]),a)?r.jsx("div",{children:"Loading..."}):t?(0,r.jsxs)("div",{children:[r.jsx(i.Z,{profileData:t,setProfileData:s,isOwner:u,id:e,fetchProfile:m}),r.jsx(n.Z,{profileData:t,setProfileData:s,isOwner:u,id:e,fetchProfile:m})]}):r.jsx("div",{children:"No profile data available."})};a()}catch(e){a(e)}})},8557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(7247),r=s(1914),l=s(2355),i=s(2898),n=s(8221),o=s(4991),c=s(8309),d=s(7663);s(8964);var u=s(2704),h=s(2411);let m=({isOpen:e,onClose:t,initialData:s,id:m,fetchProfile:p})=>{let{register:x,handleSubmit:f,reset:g,formState:{isSubmitting:y}}=(0,u.cI)({defaultValues:s}),v=async e=>{try{await (0,c.ir)(m,e),h.ZP.success("user bio updated successfully"),await p(),t()}catch(e){console.log("error creating or updating user bio",e)}};return a.jsx(l.Vq,{open:e,onOpenChange:t,children:(0,a.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[a.jsx(l.fK,{children:"Edit Bio"}),(0,a.jsxs)("form",{onSubmit:f(v),children:[(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"bio",className:"text-right",children:"Bio"}),a.jsx(o.g,{id:"bioText",className:"col-span-3",...x("bioText")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"liveIn",className:"text-right",children:"Live In"}),a.jsx(i.I,{id:"liveIn",className:"col-span-3",...x("liveIn")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"relationship",className:"text-right",children:"Relationship"}),a.jsx(i.I,{id:"relationship",...x("relationship"),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"workPlace",className:"text-right",children:"Work Place"}),a.jsx(i.I,{id:"workplace",...x("workplace"),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"education",className:"text-right",children:"Education"}),a.jsx(i.I,{id:"education",...x("education"),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"phone",className:"text-right",children:"Phone"}),a.jsx(i.I,{id:"phone",...x("phone"),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(n._,{htmlFor:"hometown",className:"text-right",children:"Hometown"}),a.jsx(i.I,{id:"hometown",...x("hometown"),className:"col-span-3"})]})]}),a.jsx(l.cN,{children:(0,a.jsxs)(r.z,{type:"submit",disabled:y,children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2"})," ",y?"Saving...":"save chnages"]})})]})]})})}},3462:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(7247),r=s(8964),l=s(8277),i=s(8826),n=s(5887),o=s(2044),c=s(1914),d=s(9389),u=s(54),h=s(3968),m=s(2411);let p=({id:e,isOwner:t})=>{let{fetchMutualFriends:s,mutualFriends:p,UnfollowUser:x}=(0,h.e)();(0,r.useEffect)(()=>{e&&s(e)},[e,s]);let f=async e=>{await x(e),m.ZP.success("you have unfollow successfully")};return a.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 dark:text-gray-300",children:"Mutual Friends"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p?.map(r=>a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(i.qE,{children:r?.profilePicture?a.jsx(i.F$,{src:r?.profilePicture,alt:r?.username}):a.jsx(i.Q5,{className:"dark:bg-gray-400",children:userPlaceholder})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold dark:text-gray-100",children:r?.username}),a.jsxs("p",{className:"text-sm text-gray-400",children:[r?.followerCount," folllowers"]})]})]}),a.jsxs(o.h_,{children:[a.jsx(o.$F,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",size:"icon",children:a.jsx(d.Z,{className:"h-4 w-4 text-gray-300"})})}),t&&a.jsx(o.AW,{align:"end",onClick:async()=>{await f(r?._id),await s(e)},children:a.jsxs(o.Xi,{children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"})," Unfollow"]})})]})]},r?._id))})]})})})}},7103:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>j});var r=s(7247),l=s(8964),i=s(8277),n=s(7078),o=s(5887),c=s(8826),d=s(1914),u=s(9389),h=s(5718),m=s(7073),p=s(9875),x=s(4294),f=s(2355),g=s(1833),y=s(5294),v=e([g]);g=(v.then?(await v)():v)[0];let j=({post:e,isLiked:t,onShare:s,onComment:a,onLike:v})=>{let[j,w]=(0,l.useState)(!1),[b,N]=(0,l.useState)(!1),k=(0,l.useRef)(null),S=e?.user?.username?.split(" ").map(e=>e[0]).join(""),C=()=>`http://localhost:3000/${e?.id}`,P=e=>{let t;let s=C();switch(e){case"facebook":t="https://www.facebook.com/sharer/sharer.php?u=}";break;case"twitter":t="https://twitter.com/intent/tweet?url=}";break;case"linkedin":t="https://www.linkedin.com/shareArticle?mini=true&url=}";break;case"copy":navigator.clipboard.writeText(s),N(!1);return;default:return}window.open(t,"_blank"),N(!1)};return r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx(o.Zb,{children:(0,r.jsxs)(o.aY,{className:"p-2 sm:p-6  dark:text-white ",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsx(c.qE,{children:e?.user?.profilePicture?r.jsx(c.F$,{src:e?.user?.profilePicture,alt:e?.user?.username}):r.jsx(c.Q5,{className:"dark:bg-gray-400",children:S})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold dark:text-white",children:e?.user?.username}),r.jsx("p",{className:"font-sm text-gray-500",children:(0,y.F)(e?.createdAt)})]})]}),r.jsx(d.z,{variant:"ghost",className:"dark:hover:bg-gray-500",children:r.jsx(u.Z,{className:"dark:text-white h-4 w-4"})})]}),r.jsx("p",{className:"mb-4",children:e?.content}),e?.mediaUrl&&"image"===e.mediaType&&r.jsx("img",{src:e?.mediaUrl,alt:"post_image",className:"w-full h-auto rounded-lg mb-4"}),e?.mediaUrl&&"video"===e.mediaType&&(0,r.jsxs)("video",{controls:!0,className:"w-full h-[500px] rounded-lg mb-4",children:[r.jsx("source",{src:e?.mediaUrl,type:"video/mp4"}),"Your browser does not support the video tag"]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",children:[e?.likeCount," likes"]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",onClick:()=>w(!j),children:[e?.commentCount," comments"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 hover:border-b-2 border-gray-400 cursor-pointer ",children:[e?.shareCount," share"]})]})]}),r.jsx(x.Z,{className:"mb-2 dark:bg-gray-400"}),(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsxs)(d.z,{variant:"ghost",className:`flex-1 dark:hover:bg-gray-600 ${t?"text-blue-600":""}`,onClick:v,children:[r.jsx(h.Z,{className:"sm:mr-2 h-4 w-4"})," Like"]}),(0,r.jsxs)(d.z,{variant:"ghost",className:"flex-1 dark:hover:bg-gray-600 ",onClick:()=>{w(!0),setTimeout(()=>{k.current?.focus()},0)},children:[r.jsx(m.Z,{className:" sm:mr-2 h-4 w-4"})," Comment"]}),(0,r.jsxs)(f.Vq,{open:b,onOpenChange:N,children:[r.jsx(f.hg,{asChild:!0,children:(0,r.jsxs)(d.z,{variant:"ghost",className:"flex-1 dark:hover:bg-gray-500",onClick:s,children:[r.jsx(p.Z,{className:"sm:mr-2 h-4 w-4"}),"share"]})}),(0,r.jsxs)(f.cZ,{children:[(0,r.jsxs)(f.fK,{children:[r.jsx(f.$N,{children:"Share This Post"}),r.jsx(f.Be,{children:"Choose how you want to share this post"})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4 ",children:[r.jsx(d.z,{onClick:()=>P("facebook"),children:"Share on Facebook"}),r.jsx(d.z,{onClick:()=>P("twitter"),children:"Share on Twitter"}),r.jsx(d.z,{onClick:()=>P("linkedin"),children:"Share on Linkedin"}),r.jsx(d.z,{onClick:()=>P("copy"),children:"Copy Link"})]})]})]})]}),r.jsx(x.Z,{className:"mb-2 dark:bg-gray-400"}),r.jsx(n.M,{children:j&&r.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:r.jsx(g.Z,{post:e,onComment:a,commentInputRef:k})})})]})})},e?._id)};a()}catch(e){a(e)}})},8221:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var a=s(7247),r=s(8964),l=s(768),i=s(1608),n=s(5294);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...t},s)=>a.jsx(l.f,{ref:s,className:(0,n.cn)(o(),e),...t}));c.displayName=l.f.displayName},1783:(e,t,s)=>{"use strict";s.d(t,{SP:()=>c,dr:()=>o,mQ:()=>n,nU:()=>d});var a=s(7247),r=s(8964),l=s(8754),i=s(5294);let n=l.fC,o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.aV,{ref:s,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=l.aV.displayName;let c=r.forwardRef(({className:e,...t},s)=>a.jsx(l.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));c.displayName=l.xz.displayName;let d=r.forwardRef(({className:e,...t},s)=>a.jsx(l.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=l.VY.displayName},3968:(e,t,s)=>{"use strict";s.d(t,{e:()=>l});var a=s(8309),r=s(2411);let l=(0,s(9713).U)((e,t)=>({friendRequest:[],friendSuggestion:[],mutualFriends:[],loading:!1,fetchFriendRequest:async()=>{e({loading:!0});try{let t=await (0,a.ZT)();e({friendRequest:t.data,loading:!1})}catch(t){e({error:t,loading:!1})}finally{e({loading:!1})}},fetchFriendSuggestion:async()=>{e({loading:!0});try{let t=await (0,a.Qv)();e({friendSuggestion:t.data,isLoading:!1})}catch(t){e({error:t,loading:!1})}finally{e({loading:!1})}},fetchMutualFriends:async t=>{e({loading:!0});try{let s=await (0,a.C0)(t);e({mutualFriends:s,loading:!1})}catch(t){e({error:t,loading:!1})}finally{e({loading:!1})}},followUser:async t=>{e({loading:!0});try{await (0,a.P_)(t)}catch(t){e({error:t,loading:!1})}},UnfollowUser:async t=>{e({loading:!0});try{await (0,a.W5)(t)}catch(t){e({error:t,loading:!1})}},deleteUserFromRequest:async t=>{e({loading:!0});try{await (0,a.ik)(t),r.ZP.success("you have deleted friend successfully")}catch(t){e({error:t,loading:!1})}}}))},6555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(5347).createProxy)(String.raw`C:\Users\softw\OneDrive\Desktop\facebook-clone\frontend\src\app\user-profile\[id]\page.js#default`)},8779:(e,t,s)=>{"use strict";function a(e,[t,s]){return Math.min(s,Math.max(t,e))}s.d(t,{u:()=>a})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[379,71,564,150,626,694,243],()=>s(2446));module.exports=a})();