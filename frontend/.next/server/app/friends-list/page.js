(()=>{var e={};e.id=64,e.ids=[64],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4391:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(3488),t(7147),t(996);var r=t(170),i=t(5002),a=t(3876),l=t.n(a),n=t(6299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["friends-list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3488)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\friends-list\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,7147)),"C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\softw\\OneDrive\\Desktop\\facebook-clone\\frontend\\src\\app\\friends-list\\page.js"],u="/friends-list/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/friends-list/page",pathname:"/friends-list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8118:(e,s,t)=>{Promise.resolve().then(t.bind(t,1926))},54:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6323).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},5853:(e,s,t)=>{"use strict";t.d(s,{Z:()=>g});var r=t(7247),i=t(8964),a=t(8826),l=t(1914),n=t(6460),o=t(7989),c=t(6034),d=t(7073);let u=(0,t(6323).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=t(1299),x=t(4294),p=t(9840),f=t(4178),h=t(4571);let g=()=>{let{isSidebarOpen:e,toggleSidebar:s}=(0,p.Z)(),t=(0,f.useRouter)(),g=(0,i.useRef)(null),{user:y}=(0,h.Z)(),j=(r,i)=>{t.push(r),e&&s()},v=t=>{e&&g.current&&!g.current.contains(t.target)&&s()};(0,i.useEffect)(()=>(e?document.addEventListener("click",v):document.removeEventListener("click",v),()=>{document.removeEventListener("click",v)}),[e]);let b=y?.username?y.username.split(" ").map(e=>e.charAt(0).toUpperCase()).join(""):"U";return r.jsx("aside",{ref:g,className:`fixed top-10  left-0 h-full w-64 p-4 transform transition-transform duration-200 ease-in-out md:translate-x-0 flex flex-col z-50 md:z-0 ${e?"translate-x-0 bg-white dark:bg-[rgb(37,38,39)] shadow-lg":"-translate-x-full"}  ${e?"md:hidden ":"md:block"} md:bg-transparent md:shadow-none `,children:(0,r.jsxs)("div",{className:"flex flex-col h-full overflow-y-auto",children:[(0,r.jsxs)("nav",{className:"space-y-3 flex-grow",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>j("/"),children:[r.jsx(a.qE,{className:"h-8 w-8",children:y?.profilePicture?r.jsx(a.F$,{src:y?.profilePicture,alt:y?.username}):r.jsx(a.Q5,{className:"dark:bg-gray-400",children:b})}),r.jsx("span",{className:"font-semibold",children:y?.username})]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start   ",onClick:()=>j("/"),children:[r.jsx(n.Z,{className:"mr-4"}),"Home"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>j("/friends-list"),children:[r.jsx(o.Z,{className:"mr-4"}),"Friends"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>j("/videos"),children:[r.jsx(c.Z,{className:"mr-4"}),"Video"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start",children:[r.jsx(d.Z,{className:"mr-4"}),"Messages"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start",onClick:()=>j(`/user-profile/${y?._id}`),children:[r.jsx(u,{className:"mr-4"}),"Profile"]}),(0,r.jsxs)(l.z,{variant:"ghost",className:"full justify-start",children:[r.jsx(m.Z,{className:"mr-4"}),"Notification"]})]}),(0,r.jsxs)("div",{className:"mb-16",children:[r.jsx(x.Z,{className:"my-4"}),r.jsx("div",{className:"flex items-center space-x-2 mb-4 cursor-pointer",children:r.jsx(a.qE,{className:"h-8 w-8",onClick:()=>j(`/user-profile/${y?._id}`),children:y?.profilePicture?r.jsx(a.F$,{src:y?.profilePicture,alt:y?.username}):r.jsx(a.Q5,{className:"dark:bg-gray-400",children:b})})}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[r.jsx("p",{children:"Privacy \xb7 Terms \xb7 Advertising "}),r.jsx("p",{children:"Cookies \xb7 Meta \xa9 2024"})]})]})]})})}},1926:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(7247),i=t(8964),a=t(5853),l=t(5294);function n({className:e,...s}){return r.jsx("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",e),...s})}var o=t(8277),c=t(54);let d=()=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[r.jsx(n,{className:"h-24 w-24 rounded-full mx-auto mb-4"}),r.jsx(n,{className:"h-4 w-3/4 mx-auto mb-2"}),r.jsx(n,{className:"h-8 w-full mb-2"}),r.jsx(n,{className:"h-8 w-full"})]}),u=({text:e,description:s})=>(0,r.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"flex flex-col items-center justify-center w-full  p-8 text-center",children:[r.jsx(c.Z,{size:64,className:"text-gray-400 mb-4"}),r.jsx("h3",{className:"text-2xl font-semibold mb-2",children:e}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:s})]});var m=t(7078),x=t(8826),p=t(6323);let f=(0,p.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),h=(0,p.Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var g=t(1914);let y=({friend:e,onAction:s})=>{let t=e?.username?.split(" ").map(e=>e[0]).join("");return r.jsx(m.M,{children:(0,r.jsxs)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-white mb-4 dark:bg-gray-800 p-4 shadow rounded-lg",children:[r.jsx(x.qE,{className:"h-32 w-32 rounded mx-auto mb-4",children:e?.profilePicture?r.jsx(x.F$,{src:e?.profilePicture,alt:e?.username}):r.jsx(x.Q5,{className:"dark:bg-gray-400",children:t})}),r.jsx("h3",{className:"text-lg font-semibold text-center mb-4 ",children:e?.username}),(0,r.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,r.jsxs)(g.z,{className:"bg-blue-500 ",size:"lg",onClick:()=>{},children:[r.jsx(f,{className:"mr-2 h-4 w-4"})," Confirm"]}),(0,r.jsxs)(g.z,{className:"mt-2 ",size:"lg",onClick:()=>{},children:[r.jsx(h,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})},j=({friend:e,onAction:s})=>{let t=e?.username?.split(" ").map(e=>e[0]).join("");return r.jsx(m.M,{children:(0,r.jsxs)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-white mb-4 dark:bg-gray-800 p-4 shadow rounded-lg",children:[r.jsx(x.qE,{className:"h-32 w-32 rounded mx-auto mb-4",children:e?.profilePicture?r.jsx(x.F$,{src:e?.profilePicture,alt:e?.username}):r.jsx(x.Q5,{children:t})}),r.jsx("h3",{className:"text-lg font-semibold text-center mb-4 ",children:e?.username}),r.jsx("div",{className:"flex flex-col justify-between",children:(0,r.jsxs)(g.z,{className:"bg-blue-500 ",size:"lg",onClick:()=>s("confirm",e?._id),children:[r.jsx(f,{className:"mr-2 h-4 w-4"})," Add Friend"]})})]})})};var v=t(3968),b=t(2411);let w=()=>{let{followUser:e,loading:s,UnfollowUser:t,fetchFriendRequest:l,fetchFriendSuggestion:n,deleteUserFromRequest:o,fetchMutualFriends:c,friendRequest:m,friendSuggestion:x,mutualFriends:p}=(0,v.e)();(0,i.useEffect)(()=>{l(),n()},[]);let f=async(s,r)=>{"confirm"===s?(b.ZP.success("friend added successfully"),await e(r),l(),n()):"delete"===s&&(await t(r),l(),n())};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-[rgb(36,37,38)] ",children:[r.jsx(a.Z,{}),(0,r.jsxs)("main",{className:"ml-0 md:ml-64 mt-16 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Friends Requests"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6  ",children:s?r.jsx(d,{}):0===m.length?r.jsx(u,{text:"No Friend Requests",description:"Looks like you are all caught up! Why not explore and connect with new people?"}):m.map(e=>r.jsx(y,{friend:e,loading:s,onAction:f},e._id))}),r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"People you may know"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6  ",children:s?r.jsx(d,{}):0===x.length?r.jsx(u,{text:"No Friend Suggestion",description:"Looks like you are all caught up! Why not explore and connect with new people?"}):x.map(e=>r.jsx(j,{friend:e,loading:s,onAction:f},e._id))})]})]})}},4294:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(7247),i=t(8964),a=t(4823),l=t(5294);let n=i.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...i},n)=>r.jsx(a.f,{ref:n,decorative:t,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...i}));n.displayName=a.f.displayName},3968:(e,s,t)=>{"use strict";t.d(s,{e:()=>a});var r=t(8309),i=t(2411);let a=(0,t(9713).U)((e,s)=>({friendRequest:[],friendSuggestion:[],mutualFriends:[],loading:!1,fetchFriendRequest:async()=>{e({loading:!0});try{let s=await (0,r.ZT)();e({friendRequest:s.data,loading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},fetchFriendSuggestion:async()=>{e({loading:!0});try{let s=await (0,r.Qv)();e({friendSuggestion:s.data,isLoading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},fetchMutualFriends:async s=>{e({loading:!0});try{let t=await (0,r.C0)(s);e({mutualFriends:t,loading:!1})}catch(s){e({error:s,loading:!1})}finally{e({loading:!1})}},followUser:async s=>{e({loading:!0});try{await (0,r.P_)(s)}catch(s){e({error:s,loading:!1})}},UnfollowUser:async s=>{e({loading:!0});try{await (0,r.W5)(s)}catch(s){e({error:s,loading:!1})}},deleteUserFromRequest:async s=>{e({loading:!0});try{await (0,r.ik)(s),i.ZP.success("you have deleted friend successfully")}catch(s){e({error:s,loading:!1})}}}))},3488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(5347).createProxy)(String.raw`C:\Users\softw\OneDrive\Desktop\facebook-clone\frontend\src\app\friends-list\page.js#default`)},3881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(4564);let i=e=>[{type:"image/x-icon",sizes:"336x336",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},4823:(e,s,t)=>{"use strict";t.d(s,{f:()=>c});var r=t(8964),i=t(2251),a=t(7247),l="horizontal",n=["horizontal","vertical"],o=r.forwardRef((e,s)=>{let{decorative:t,orientation:r=l,...o}=e,c=n.includes(r)?r:l;return(0,a.jsx)(i.WV.div,{"data-orientation":c,...t?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:s})});o.displayName="Separator";var c=o},7078:(e,s,t)=>{"use strict";t.d(s,{M:()=>g});var r=t(7247),i=t(8964),a=t(4389),l=t(4811),n=t(9951);class o extends i.Component{getSnapshotBeforeUpdate(e){let s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=s.offsetHeight||0,e.width=s.offsetWidth||0,e.top=s.offsetTop,e.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:s}){let t=(0,i.useId)(),a=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,i.useContext)(n._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:r,top:i,left:n}=l.current;if(s||!a.current||!e||!r)return;a.current.dataset.motionPopId=t;let o=document.createElement("style");return c&&(o.nonce=c),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${i}px !important;
            left: ${n}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[s]),(0,r.jsx)(o,{isPresent:s,childRef:a,sizeRef:l,children:i.cloneElement(e,{ref:a})})}let d=({children:e,initial:s,isPresent:t,onExitComplete:n,custom:o,presenceAffectsLayout:d,mode:m})=>{let x=(0,l.h)(u),p=(0,i.useId)(),f=(0,i.useCallback)(e=>{for(let s of(x.set(e,!0),x.values()))if(!s)return;n&&n()},[x,n]),h=(0,i.useMemo)(()=>({id:p,initial:s,isPresent:t,custom:o,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),d?[Math.random(),f]:[t,f]);return(0,i.useMemo)(()=>{x.forEach((e,s)=>x.set(s,!1))},[t]),i.useEffect(()=>{t||x.size||!n||n()},[t]),"popLayout"===m&&(e=(0,r.jsx)(c,{isPresent:t,children:e})),(0,r.jsx)(a.O.Provider,{value:h,children:e})};function u(){return new Map}var m=t(3505),x=t(2117);let p=e=>e.key||"";function f(e){let s=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&s.push(e)}),s}var h=t(9881);let g=({children:e,exitBeforeEnter:s,custom:t,initial:a=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:c="sync"})=>{(0,x.k)(!s,"Replace exitBeforeEnter with mode='wait'");let u=(0,i.useMemo)(()=>f(e),[e]),g=u.map(p),y=(0,i.useRef)(!0),j=(0,i.useRef)(u),v=(0,l.h)(()=>new Map),[b,w]=(0,i.useState)(u),[N,k]=(0,i.useState)(u);(0,h.L)(()=>{y.current=!1,j.current=u;for(let e=0;e<N.length;e++){let s=p(N[e]);g.includes(s)?v.delete(s):!0!==v.get(s)&&v.set(s,!1)}},[N,g.length,g.join("-")]);let P=[];if(u!==b){let e=[...u];for(let s=0;s<N.length;s++){let t=N[s],r=p(t);g.includes(r)||(e.splice(s,0,t),P.push(t))}"wait"===c&&P.length&&(e=P),k(f(e)),w(u);return}let{forceRender:q}=(0,i.useContext)(m.p);return(0,r.jsx)(r.Fragment,{children:N.map(e=>{let s=p(e),i=u===N||g.includes(s);return(0,r.jsx)(d,{isPresent:i,initial:(!y.current||!!a)&&void 0,custom:i?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:i?void 0:()=>{if(!v.has(s))return;v.set(s,!0);let e=!0;v.forEach(s=>{s||(e=!1)}),e&&(null==q||q(),k(j.current),n&&n())},children:e},s)})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[379,71,564,694],()=>t(4391));module.exports=r})();