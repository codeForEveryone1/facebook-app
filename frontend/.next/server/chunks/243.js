"use strict";exports.id=243,exports.ids=[243],exports.modules={2513:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(6323).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5370:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(6323).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9389:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(6323).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7013:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(6323).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1833:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>u});var r=t(7247),l=t(5370),o=t(2513),d=t(1669),c=t(8964),n=t(8826),i=t(1914),m=t(4571),p=t(2898),f=t(2473),h=t(5294),x=e([f]);f=(x.then?(await x)():x)[0];let u=({post:e,onComment:a,commentInputRef:t})=>{let[s,f]=(0,c.useState)(!1),[x,u]=(0,c.useState)(""),{user:y}=(0,m.Z)(),g=s?e?.comments:e?.comments?.slice(0,2),w=async()=>{x.trim()&&(a({text:x}),u(""))},N=y?.username?.split(" ").map(e=>e[0]).join("");return(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Comments"}),(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto pr-2",children:[g?.map((e,a)=>r.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[r.jsx(n.qE,{className:"w-8 h-8",children:e?.user?.profilePicture?r.jsx(n.F$,{src:e?.user?.profilePicture,alt:e?.user?.username}):r.jsx(n.Q5,{className:"dark:bg-gray-400",children:e?.user?.username?.split(" ").map(e=>e[0]).join(" ")})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"rounded-lg p-2",children:[r.jsx("p",{className:"font-bold text-sm",children:e?.user?.username}),r.jsx("p",{className:"text-sm",children:e?.text})]}),r.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-400",children:[r.jsx(i.z,{variant:"ghost",size:"sm",children:"Like"}),r.jsx(i.z,{variant:"ghost",size:"sm",children:"Reply"}),r.jsx("span",{children:h.F(e.createdAt)})]})]})]},a)),e?.comments?.length>2&&r.jsx("p",{className:"w-40 mt-2 text-blue-500 dark:text-gray-300 cursor-pointer",onClick:()=>f(!s),children:s?(0,r.jsxs)(r.Fragment,{children:["Show Less ",r.jsx(l.Z,{className:"ml-2 h-4 w-4"})]}):(0,r.jsxs)(r.Fragment,{children:["Show All Comments ",r.jsx(o.Z,{className:"ml-2 h-4 w-4"})]})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[r.jsx(n.qE,{className:"w-8 h-8",children:y?.profilePicture?r.jsx(n.F$,{src:y?.profilePicture,alt:y?.username}):r.jsx(n.Q5,{className:"dark:bg-gray-400",children:N})}),r.jsx(p.I,{value:x,ref:t,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&w(),placeholder:"Write a comment...",className:"flex-grow cursor-pointer rounded-full h-12 dark:bg-[rgb(58,59,60)] "}),r.jsx(i.z,{variant:"ghost",size:"icon",className:"hover:bg-transparent",onClick:w,children:r.jsx(d.Z,{className:"h-5 w-5 text-blue-500"})})]})]})};s()}catch(e){s(e)}})},5887:(e,a,t)=>{t.d(a,{Ol:()=>d,SZ:()=>n,Zb:()=>o,aY:()=>i,eW:()=>m,ll:()=>c});var s=t(7247),r=t(8964),l=t(5294);let o=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...a}));o.displayName="Card";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));d.displayName="CardHeader";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let n=r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));n.displayName="CardDescription";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));i.displayName="CardContent";let m=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},2355:(e,a,t)=>{t.d(a,{$N:()=>x,Be:()=>u,Vq:()=>c,cN:()=>h,cZ:()=>p,fK:()=>f,hg:()=>n});var s=t(7247),r=t(8964),l=t(400),o=t(2095),d=t(5294);let c=l.fC,n=l.xz,i=l.h_;l.x8;let m=r.forwardRef(({className:e,...a},t)=>s.jsx(l.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));m.displayName=l.aV.displayName;let p=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(i,{children:[s.jsx(m,{}),(0,s.jsxs)(l.VY,{ref:r,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(o.Pxu,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=l.VY.displayName;let f=({className:e,...a})=>s.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});f.displayName="DialogHeader";let h=({className:e,...a})=>s.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="DialogFooter";let x=r.forwardRef(({className:e,...a},t)=>s.jsx(l.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=l.Dx.displayName;let u=r.forwardRef(({className:e,...a},t)=>s.jsx(l.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",e),...a}));u.displayName=l.dk.displayName},4294:(e,a,t)=>{t.d(a,{Z:()=>d});var s=t(7247),r=t(8964),l=t(4823),o=t(5294);let d=r.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...r},d)=>s.jsx(l.f,{ref:d,decorative:t,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));d.displayName=l.f.displayName},4991:(e,a,t)=>{t.d(a,{g:()=>o});var s=t(7247),r=t(8964),l=t(5294);let o=r.forwardRef(({className:e,...a},t)=>s.jsx("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));o.displayName="Textarea"},6481:(e,a,t)=>{t.d(a,{Y:()=>h});var s=t(2641);let r=async e=>{try{let a=await s.Z.post("/api/users/posts",e);return a?.data?.data}catch(e){throw console.error(e),e}},l=async e=>{try{let a=await s.Z.delete(`/api/users/posts/${e}`);return a?.data?.data}catch(e){throw console.error(e),e}},o=async e=>{try{let a=await s.Z.post("/api/users/story",e);return a?.data?.data}catch(e){throw console.error(e),e}},d=async()=>{try{let e=await s.Z.get("/api/users/posts");return e?.data?.data}catch(e){throw console.error(e),e}},c=async()=>{try{let e=await s.Z.get("/api/users/story");return e?.data?.data}catch(e){throw console.error(e),e}},n=async e=>{try{let a=await s.Z.post(`/api/users/posts/likes/${e}`);return a?.data?.data}catch(e){throw console.error(e),e}},i=async(e,a)=>{try{let t=await s.Z.post(`/api/users/posts/comments/${e}`,a);return t?.data?.data}catch(e){throw console.error(e),e}},m=async e=>{try{let a=await s.Z.post(`/api/users/posts/share/${e}`);return a?.data?.data}catch(e){throw console.error(e),e}},p=async e=>{try{let a=await s.Z.get(`/api/users/posts/user/${e}`);return a?.data?.data}catch(e){throw console.error(e),e}};var f=t(2411);let h=(0,t(9713).U)(e=>({posts:[],userPosts:[],story:[],loading:!1,error:null,fetchPost:async()=>{e({loading:!0});try{let a=await d();e({posts:a,loading:!1})}catch(a){e({error:a,loading:!1})}},fetchUserPost:async a=>{e({loading:!0});try{let t=await p(a);e({userPosts:t,loading:!1})}catch(a){e({error:a,loading:!1})}},fetchStoryPost:async()=>{e({loading:!0});try{let a=await c();e({story:a,loading:!1})}catch(a){e({error:a,loading:!1})}},handleCreatePost:async a=>{e({loading:!0});try{let t=await r(a);e(e=>({posts:[t,...e.posts],loading:!1})),f.ZP.success("Post created successfully")}catch(a){e({error:a,loading:!1}),f.ZP.error("failed to create a post")}},handleDeletePost:async a=>{e({loading:!0});try{await l(a),e(e=>({posts:e.posts.filter(e=>e._id!==a),loading:!1})),f.ZP.success("Post deleted successfully")}catch(a){e({error:a,loading:!1}),f.ZP.error("Failed to delete the post")}},handleCreateStory:async a=>{e({loading:!0});try{let t=await o(a);e(e=>({story:[t,...e.story],loading:!1})),f.ZP.success("Story created successfully")}catch(a){e({error:a,loading:!1}),f.ZP.error("failed to create a story")}},handleLikePost:async a=>{e({loading:!0});try{await n(a)}catch(a){e({error:a,loading:!1})}},handleCommentPost:async(a,t)=>{e({loading:!0});try{let s=await i(a,{text:t});e(e=>({posts:e.posts.map(e=>e?._id===a?{...e,comments:[...e.comments,s]}:e)})),f.ZP.success("Comments added successfully")}catch(a){e({error:a,loading:!1}),f.ZP.error("failed to add comments")}},handleSharePost:async a=>{e({loading:!0});try{await m(a),f.ZP.success("post share successfully")}catch(a){e({error:a,loading:!1}),f.ZP.error("failed to share this post")}}}))},3881:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(4564);let r=e=>[{type:"image/x-icon",sizes:"336x336",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};